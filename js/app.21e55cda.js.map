{"version":3,"file":"js/app.21e55cda.js","mappings":"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","sources":["webpack://vue-avatar/./src/ui/ui-spinner.vue","webpack://vue-avatar/./src/ui/ui-spinner.vue?cccb","webpack://vue-avatar/./src/composables/useSystem.ts","webpack://vue-avatar/./src/components/global-loader.vue?767b","webpack://vue-avatar/./src/components/global-loader.vue","webpack://vue-avatar/./src/components/global-loader.vue?4044","webpack://vue-avatar/./src/components/error-toast.vue?4c13","webpack://vue-avatar/./src/components/error-toast.vue","webpack://vue-avatar/./src/components/error-toast.vue?cb44","webpack://vue-avatar/./src/App.vue?16ba","webpack://vue-avatar/./src/App.vue","webpack://vue-avatar/./src/ui/ui-button.vue","webpack://vue-avatar/./src/ui/ui-button.vue?3b96","webpack://vue-avatar/./src/components/icon-mic.vue","webpack://vue-avatar/./src/components/icon-mic.vue?2ae8","webpack://vue-avatar/./src/components/icon-recording.vue","webpack://vue-avatar/./src/components/icon-recording.vue?8c63","webpack://vue-avatar/./src/composables/useAvatar.ts","webpack://vue-avatar/./src/composables/useQueue.ts","webpack://vue-avatar/./src/composables/useMicrophone.ts","webpack://vue-avatar/./src/composables/useDeepgram.ts","webpack://vue-avatar/./src/composables/useOpenAI.ts","webpack://vue-avatar/./src/views/HomeView.vue?404b","webpack://vue-avatar/./src/views/HomeView.vue","webpack://vue-avatar/./src/views/HomeView.vue?7533","webpack://vue-avatar/./src/router/index.ts","webpack://vue-avatar/./src/main.ts","webpack://vue-avatar/webpack/bootstrap","webpack://vue-avatar/webpack/runtime/chunk loaded","webpack://vue-avatar/webpack/runtime/compat get default export","webpack://vue-avatar/webpack/runtime/define property getters","webpack://vue-avatar/webpack/runtime/ensure chunk","webpack://vue-avatar/webpack/runtime/get javascript chunk filename","webpack://vue-avatar/webpack/runtime/get mini-css chunk filename","webpack://vue-avatar/webpack/runtime/global","webpack://vue-avatar/webpack/runtime/hasOwnProperty shorthand","webpack://vue-avatar/webpack/runtime/load script","webpack://vue-avatar/webpack/runtime/make namespace object","webpack://vue-avatar/webpack/runtime/publicPath","webpack://vue-avatar/webpack/runtime/jsonp chunk loading","webpack://vue-avatar/webpack/startup"],"sourcesContent":["<script setup lang=\"ts\">\n</script>\n<template>\n  <div role=\"status\">\n    <svg aria-hidden=\"true\" class=\"inline w-6 h-6 text-gray-200 animate-spin dark:text-gray-600 fill-blue-600\" viewBox=\"0 0 100 101\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <path d=\"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z\" fill=\"currentColor\"/>\n        <path d=\"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z\" fill=\"currentFill\"/>\n    </svg>\n    <span class=\"sr-only\">Loading...</span>\n</div>\n</template>","import { render } from \"./ui-spinner.vue?vue&type=template&id=4087897a\"\nconst script = {}\n\nimport exportComponent from \"../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.4.21_webpack@5.91.0/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { ref } from \"vue\";\n\nconst errorToast = ref({\n  toastIsShown: false,\n  showToast: (msg: string) => {\n    errorToast.value.toastIsShown = false;\n    errorToast.value.message = msg\n    errorToast.value.toastIsShown = true;\n    setTimeout(() => {\n      errorToast.value.toastIsShown = false\n    }, 3500)\n  },\n  message: 'Something went wrong'\n})\n\nconst isLoading = ref(false)\n\nexport default function useSystem() {\n  return {\n    isLoading,\n    errorToast,\n    showLoading: () => isLoading.value = true,\n    hideLoading: () => isLoading.value = false,\n  }\n}","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, createVNode as _createVNode, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode } from \"vue\"\n\nconst _hoisted_1 = {\n  key: 0,\n  class: \"w-full h-full z-50 fixed top-0 left-0 backdrop-blur-sm\"\n}\nconst _hoisted_2 = { class: \"flex w-full h-full fixed z-[51] items-center justify-center\" }\nconst _hoisted_3 = { class: \"bg-white shadow-2xl p-4 rounded-md border\" }\n\nimport UISpinner from '@/ui/ui-spinner.vue';\nimport useSystem from '@/composables/useSystem'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'global-loader',\n  setup(__props) {\n\nconst {isLoading} = useSystem()\n\nreturn (_ctx: any,_cache: any) => {\n  return (_unref(isLoading))\n    ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n        _createElementVNode(\"div\", _hoisted_2, [\n          _createElementVNode(\"div\", _hoisted_3, [\n            _createVNode(UISpinner)\n          ])\n        ])\n      ]))\n    : _createCommentVNode(\"\", true)\n}\n}\n\n})","<script setup lang=\"ts\">\nimport UISpinner from '@/ui/ui-spinner.vue';\nimport useSystem from '@/composables/useSystem'\n\nconst {isLoading} = useSystem()\n</script>\n<template>\n  <div v-if=\"isLoading\" class=\"w-full h-full z-50 fixed top-0 left-0 backdrop-blur-sm\">\n    <div class=\"flex w-full h-full fixed z-[51] items-center justify-center \">\n      <div class=\"bg-white shadow-2xl p-4 rounded-md border\">\n        <UISpinner />\n      </div>\n    </div>\n  </div>\n</template>","import script from \"./global-loader.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./global-loader.vue?vue&type=script&setup=true&lang=ts\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, resolveDirective as _resolveDirective, withDirectives as _withDirectives, createCommentVNode as _createCommentVNode } from \"vue\"\n\nconst _hoisted_1 = {\n  key: 0,\n  class: \"fixed top-1 z-30 flex w-full justify-center\",\n  initial: {\n    y: -100\n\n  },\n  enter: {\n    y: 0  \n  },\n  delay: 20\n}\nconst _hoisted_2 = {\n  id: \"toast-warning\",\n  class: \"flex items-center w-full max-w-xs p-4 text-gray-500 bg-white rounded-lg shadow dark:text-gray-400 dark:bg-gray-800\",\n  role: \"alert\"\n}\nconst _hoisted_3 = /*#__PURE__*/_createElementVNode(\"div\", { class: \"inline-flex items-center justify-center flex-shrink-0 w-8 h-8 text-orange-500 bg-orange-100 rounded-lg dark:bg-orange-700 dark:text-orange-200\" }, [\n  /*#__PURE__*/_createElementVNode(\"svg\", {\n    class: \"w-5 h-5\",\n    \"aria-hidden\": \"true\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"currentColor\",\n    viewBox: \"0 0 20 20\"\n  }, [\n    /*#__PURE__*/_createElementVNode(\"path\", { d: \"M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5ZM10 15a1 1 0 1 1 0-2 1 1 0 0 1 0 2Zm1-4a1 1 0 0 1-2 0V6a1 1 0 0 1 2 0v5Z\" })\n  ]),\n  /*#__PURE__*/_createElementVNode(\"span\", { class: \"sr-only\" }, \"Warning icon\")\n], -1)\nconst _hoisted_4 = { class: \"ms-3 text-sm font-normal\" }\nconst _hoisted_5 = /*#__PURE__*/_createElementVNode(\"span\", { class: \"sr-only\" }, \"Close\", -1)\nconst _hoisted_6 = /*#__PURE__*/_createElementVNode(\"svg\", {\n  class: \"w-3 h-3\",\n  \"aria-hidden\": \"true\",\n  xmlns: \"http://www.w3.org/2000/svg\",\n  fill: \"none\",\n  viewBox: \"0 0 14 14\"\n}, [\n  /*#__PURE__*/_createElementVNode(\"path\", {\n    stroke: \"currentColor\",\n    \"stroke-linecap\": \"round\",\n    \"stroke-linejoin\": \"round\",\n    \"stroke-width\": \"2\",\n    d: \"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6\"\n  })\n], -1)\nconst _hoisted_7 = [\n  _hoisted_5,\n  _hoisted_6\n]\n\nimport useSystem from '@/composables/useSystem'\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'error-toast',\n  setup(__props) {\n\nconst {errorToast} = useSystem()\n\nreturn (_ctx: any,_cache: any) => {\n  const _directive_motion = _resolveDirective(\"motion\")!\n\n  return (_unref(errorToast).toastIsShown)\n    ? _withDirectives((_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n        _createElementVNode(\"div\", _hoisted_2, [\n          _hoisted_3,\n          _createElementVNode(\"div\", _hoisted_4, _toDisplayString(_unref(errorToast).message), 1),\n          _createElementVNode(\"button\", {\n            onClick: _cache[0] || (_cache[0] = ($event: any) => (_unref(errorToast).toastIsShown = false)),\n            type: \"button\",\n            class: \"ms-auto -mx-1.5 -my-1.5 bg-white text-gray-400 hover:text-gray-900 rounded-lg focus:ring-2 focus:ring-gray-300 p-1.5 hover:bg-gray-100 inline-flex items-center justify-center h-8 w-8 dark:text-gray-500 dark:hover:text-white dark:bg-gray-800 dark:hover:bg-gray-700\",\n            \"data-dismiss-target\": \"#toast-warning\",\n            \"aria-label\": \"Close\"\n          }, _hoisted_7)\n        ])\n      ])), [\n        [_directive_motion]\n      ])\n    : _createCommentVNode(\"\", true)\n}\n}\n\n})","<script setup lang=\"ts\">\nimport useSystem from '@/composables/useSystem'\nconst {errorToast} = useSystem()\n</script>\n<template>\n  <div class=\"fixed top-1 z-30 flex w-full justify-center\" v-if=\"errorToast.toastIsShown\" v-motion :initial=\"{\n    y: -100\n\n  }\"\n  :enter=\"{\n    y: 0  \n  }\"\n  :delay=\"20\"\n  >\n    <div id=\"toast-warning\" class=\"flex items-center w-full max-w-xs p-4 text-gray-500 bg-white rounded-lg shadow dark:text-gray-400 dark:bg-gray-800\" role=\"alert\">\n      <div class=\"inline-flex items-center justify-center flex-shrink-0 w-8 h-8 text-orange-500 bg-orange-100 rounded-lg dark:bg-orange-700 dark:text-orange-200\">\n            <svg class=\"w-5 h-5\" aria-hidden=\"true\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                <path d=\"M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5ZM10 15a1 1 0 1 1 0-2 1 1 0 0 1 0 2Zm1-4a1 1 0 0 1-2 0V6a1 1 0 0 1 2 0v5Z\"/>\n            </svg>\n            <span class=\"sr-only\">Warning icon</span>\n        </div>\n        <div class=\"ms-3 text-sm font-normal\">{{errorToast.message}}</div>\n        <button @click=\"errorToast.toastIsShown = false\" type=\"button\" class=\"ms-auto -mx-1.5 -my-1.5 bg-white text-gray-400 hover:text-gray-900 rounded-lg focus:ring-2 focus:ring-gray-300 p-1.5 hover:bg-gray-100 inline-flex items-center justify-center h-8 w-8 dark:text-gray-500 dark:hover:text-white dark:bg-gray-800 dark:hover:bg-gray-700\" data-dismiss-target=\"#toast-warning\" aria-label=\"Close\">\n            <span class=\"sr-only\">Close</span>\n            <svg class=\"w-3 h-3\" aria-hidden=\"true\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 14 14\">\n                <path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6\"/>\n            </svg>\n        </button>\n    </div>  \n  </div>\n</template>","import script from \"./error-toast.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./error-toast.vue?vue&type=script&setup=true&lang=ts\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { resolveComponent as _resolveComponent, createVNode as _createVNode, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nimport GlobalLoader from '@/components/global-loader.vue'\nimport ErrorToast from './components/error-toast.vue';\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'App',\n  setup(__props) {\n\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_router_view = _resolveComponent(\"router-view\")!\n\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    _createVNode(_component_router_view),\n    _createVNode(GlobalLoader),\n    _createVNode(ErrorToast)\n  ], 64))\n}\n}\n\n})","import script from \"./App.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./App.vue?vue&type=script&setup=true&lang=ts\"\n\nconst __exports__ = script;\n\nexport default __exports__","<script setup lang=\"ts\">\n</script>\n<template>\n  <button @contextmenu.stop.prevent class=\"text-white transition-all select-none bg-gradient-to-r from-blue-500 via-blue-600 to-blue-700 hover:bg-gradient-to-br focus:ring-4 focus:outline-none focus:ring-blue-300 dark:focus:ring-blue-800 shadow-lg shadow-blue-500/50 dark:shadow-lg dark:shadow-blue-800/80 font-medium rounded-lg text-sm px-5 py-2.5 text-center me-2 mb-2\">\n    <slot></slot>\n  </button>\n</template>","import { render } from \"./ui-button.vue?vue&type=template&id=23246cc3\"\nconst script = {}\n\nimport exportComponent from \"../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.4.21_webpack@5.91.0/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<script setup lang=\"ts\">\n</script> \n\n<template>\n  <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <rect x=\"8\" y=\"1\" width=\"8\" height=\"14\" rx=\"4\" stroke=\"currentColor\" stroke-width=\"1.8\"/>\n    <path d=\"M19.5 10.5V11C19.5 15.1421 16.1421 18.5 12 18.5V18.5M4.5 10.5V11C4.5 15.1421 7.85786 18.5 12 18.5V18.5M12 18.5V22M12 22H16M12 22H8\" stroke=\"currentColor\" stroke-width=\"1.8\" stroke-linecap=\"round\"/>\n  </svg>   \n</template>","import { render } from \"./icon-mic.vue?vue&type=template&id=7cc53511\"\nconst script = {}\n\nimport exportComponent from \"../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.4.21_webpack@5.91.0/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<script setup lang=\"ts\">\n</script> \n\n<template>\n  <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <rect x=\"6\" y=\"6\" width=\"12\" height=\"12\" rx=\"2\" fill=\"currentColor\"/>\n  </svg>\n</template>","import { render } from \"./icon-recording.vue?vue&type=template&id=2326af11\"\nconst script = {}\n\nimport exportComponent from \"../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.4.21_webpack@5.91.0/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { nextTick, ref, Ref } from 'vue';\nimport useSystem from './useSystem';\n\nconst SERVER_URL = process.env.VUE_APP_HEYGET_SERVER_URL;\nconst apiKey = process.env.VUE_APP_HEYGEN_API_KEY;\n\ntype ICEServer = {\n  urls: string[];\n  username: string;\n  credential: string;\n};\ntype SessionInfo = {\n  ice_servers2: ICEServer[];\n  sdp: any;\n  session_id: string;\n};\n\n\nconst {errorToast} = useSystem()\nconst shouldRenderCanvas =ref(true)\nconst isError = ref(false);\nconst state = ref<'started' | 'stopped'>('stopped')\nconst errorMessage = ref('');\nconst mediaCanPlay = ref(false);\nconst isLoading = ref(false);\nconst isGenerating = ref(false);\nconst sessionInfo = ref<SessionInfo>();\nconst peerConnection = ref<RTCPeerConnection>();\nconst iceConnectionState = ref<RTCIceConnectionState>();\n\nexport const useAvatar = (incomingVideoRef: Ref<HTMLVideoElement | undefined>, incomingCanvasRef: Ref<HTMLCanvasElement | undefined>) => {\n  const start =  async() => {\n    isLoading.value = true;\n    shouldRenderCanvas.value = true\n      await checkSessionsAndCloseIfExists()\n      // create new session\n      await new Promise((res, rej) => {\n        setTimeout(async () => {\n          await createNewSession(incomingVideoRef, incomingCanvasRef)\n          res(1)\n        },300)\n      })\n      await new Promise((res, rej) => {\n        setTimeout(async () => {\n          await startAndDisplaySession()\n          res(1)\n        }, 300)\n      })\n      isLoading.value = false\n      state.value = 'started'\n  }\n\n  return {\n    isError,\n    isGenerating,\n    state,\n    errorMessage,\n    mediaCanPlay,\n    isLoading,\n    sessionInfo,\n    peerConnection,\n    renderCanvas,\n    closeConnection: closeConnectionHandler,\n    iceConnectionState,\n    start,\n    generateVoice: async (text: string) => {\n      if (sessionInfo.value) {\n        isGenerating.value = true\n        await repeat(sessionInfo.value?.session_id, text)\n      }\n    }\n  };\n};\n\nconst createNewSession = async (videoRef: Ref<HTMLVideoElement | undefined>, canvasRef: Ref<HTMLCanvasElement | undefined>) => {\n  const avatarID = process.env.VUE_APP_HEYGEN_AVATAR_ID || '';\n  const voiceID = process.env.VUE_APP_HEYGEN_VOICE_ID || '';\n\n  // call the new interface to get the server's offer SDP and ICE server to create a new RTCPeerConnection\n  sessionInfo.value = await newSession('low', avatarID, voiceID);\n  if (sessionInfo.value) {\n    const { sdp: serverSdp, ice_servers2: iceServers } = sessionInfo.value;\n\n    // Create a new RTCPeerConnection\n    peerConnection.value = new RTCPeerConnection({ iceServers: iceServers });\n\n    // When audio and video streams are received, display them in the video element\n    // RASUL: instead of displaying in element we save it to the ref, then return it from composable\n    peerConnection.value.ontrack = (event) => {\n      console.log('Received the track');\n      if (event.track.kind === 'audio' || event.track.kind === 'video') {\n        if (videoRef.value) {\n          videoRef.value.srcObject = event.streams[0];\n\n          if (videoRef.value.paused)  {\n            videoRef.value.play().then(_ => {}).catch(() => {})\n          }\n          if (shouldRenderCanvas.value) {\n            shouldRenderCanvas.value = false\n            setTimeout(() => {\n              renderCanvas(canvasRef, videoRef)\n            }, 500)\n          }\n        }\n      }\n    };\n    // When receiving a message, save it in the status ref\n    peerConnection.value.ondatachannel = (event) => {\n      const dataChannel = event.channel;\n      dataChannel.onmessage = (event) => {\n        // console.log('Recieved message:', event.data);\n        setTimeout(() => {\n          isGenerating.value = false\n        }, 400)\n      };\n    };\n    // Set server's SDP as remote description\n    const remoteDescription = new RTCSessionDescription(serverSdp);\n    await peerConnection.value.setRemoteDescription(remoteDescription);\n  }\n};\n\nconst startAndDisplaySession = async () => {\n  if (!sessionInfo.value || !peerConnection.value) return;\n\n  // Create and set local SDP description\n  const localDescription = await peerConnection.value.createAnswer();\n  await peerConnection.value.setLocalDescription(localDescription);\n\n  // When ICE candidate is available, send to the server\n  peerConnection.value.onicecandidate = ({ candidate }) => {\n    console.log('Received ICE candidate:', candidate);\n    setTimeout(() => {\n      if (candidate && sessionInfo.value) {\n        handleICE(sessionInfo.value.session_id, candidate.toJSON());\n      }\n    }, 300);\n  };\n\n  // When ICE connection state changes, display the new state\n  peerConnection.value.oniceconnectionstatechange = (event) => {\n    iceConnectionState.value = peerConnection.value?.iceConnectionState;\n  };\n\n  // Start session\n  await startSession(sessionInfo.value.session_id, localDescription);\n  console.log('Session Started Successfully');\n};\n\nasync function newSession(\n  quality: 'high' | 'medium' | 'low',\n  avatar_name: string,\n  voice_id: string,\n) {\n  try {\n    const response = await fetch(`${SERVER_URL}/v1/streaming.new`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'X-Api-Key': apiKey,\n      },\n      body: JSON.stringify({\n        quality,\n        avatar_name,\n        voice: {\n          voice_id: voice_id,\n        },\n      }),\n    });\n    if (response.status > 399) {\n      throw new Error('Error: Creating new session failed!')\n    }\n    const data = await response.json();\n    console.log(data.data);\n    return data.data;\n  } catch(err) {\n    console.log(err, 'err')\n    state.value = 'stopped'\n    isLoading.value = false\n    errorToast.value.showToast(err.message)\n    throw new Error('Hello')\n  }\n}\n// submit the ICE candidate\nasync function handleICE(session_id: string, candidate: RTCIceCandidateInit) {\n  const response = await fetch(`${SERVER_URL}/v1/streaming.ice`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n      'X-Api-Key': apiKey,\n    },\n    body: JSON.stringify({ session_id, candidate }),\n  });\n  if (response.status === 500) {\n    console.error('Server error');\n    isError.value = true;\n    errorMessage.value = 'Server Error. Please ask the staff if the service has been turned on';\n    // updateStatus(\n    //   statusElement,\n    //   'Server Error. Please ask the staff if the service has been turned on',\n    // );\n    throw new Error('Server error');\n  } else {\n    const data = await response.json();\n    return data;\n  }\n}\n// start the session\nasync function startSession(session_id: string, sdp: any) {\n  const response = await fetch(`${SERVER_URL}/v1/streaming.start`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n      'X-Api-Key': apiKey,\n    },\n    body: JSON.stringify({ session_id, sdp }),\n  });\n  if (response.status === 500) {\n    console.error('Server error');\n    isError.value = true;\n    errorMessage.value = 'Server Error. Please ask the staff if the service has been turned on';\n\n    // updateStatus(\n    //   statusElement,\n    //   'Server Error. Please ask the staff if the service has been turned on',\n    // );\n    throw new Error('Server error');\n  } else {\n    const data = await response.json();\n    return data.data;\n  }\n}\n\nasync function closeConnectionHandler() {\n  if (!sessionInfo.value || !peerConnection.value) {\n    // already closed\n    return;\n  }\n  renderID.value++\n  mediaCanPlay.value = false;\n  \n  console.log('closing connection...');\n  try {\n    // Close local connection\n    peerConnection.value.close();\n    // Call the close interface\n    const resp = await stopSession(sessionInfo.value.session_id);\n    state.value = 'stopped'\n    console.log('conneciton closed');\n    console.log(resp);\n  } catch (err) {\n    console.error('Failed to close the connection:', err);\n  }\n}\n\nconst checkSessionsAndCloseIfExists = async () => {\n  const data = await getSessionsList()\n  const sessionsData = data.data\n  if (sessionsData.sessions && sessionsData.sessions.length > 0) {\n    sessionsData.sessions.forEach(async (s: any) => {\n      await stopSession(s.session_id)\n    })\n  }\n}\n\nasync function getSessionsList () {\n  const options = {\n    method: 'GET',\n    headers: {\n      accept: 'application/json',\n      'x-api-key': apiKey\n    }\n  };\n  \n  const response = await fetch(`${SERVER_URL}/v1/streaming.list`, options).then(response => response.json())\n  return response\n}\n\n// stop session\nasync function stopSession(session_id: string) {\n  try {\n    const response = await fetch(`${SERVER_URL}/v1/streaming.stop`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'X-Api-Key': apiKey,\n      },\n      body: JSON.stringify({ session_id }),\n    });\n    if (response.status > 399) {\n      throw new Error(`Error: Stopping current session failed`)\n    }\n    const data = await response.json();\n    return data.data;\n  } catch (err) {\n    console.log(err, 'err')\n    state.value = 'stopped'\n    isLoading.value = false\n    errorToast.value.showToast(err.message)\n  }\n}\nasync function repeat(session_id: string, text: string) {\n  const response = await fetch(`${SERVER_URL}/v1/streaming.task`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n      'X-Api-Key': apiKey,\n    },\n    body: JSON.stringify({ session_id, text }),\n  });\n  if (response.status === 500) {\n    console.error('Server error');\n    // updateStatus(\n    //   statusElement,\n    //   'Server Error. Please ask the staff if the service has been turned on',\n    // );\n    throw new Error('Server error');\n  } else {\n    const data = await response.json();\n    return data.data;\n  }\n}\n\nlet renderID = ref(0)\nconst renderCanvas = (canvasRef: Ref<HTMLCanvasElement | undefined>, videoRef: Ref<HTMLVideoElement | undefined>) => {\n  // init renderID\n  const curRenderID = Math.trunc(Math.random() * 1000000000)\n  renderID.value = curRenderID\n  // get canvas context\n  const ctx = canvasRef.value.getContext('2d', { willReadFrequently: true });\n\n\n  function process_frame () {\n    if (curRenderID !== renderID.value) {\n      return\n    }\n    // If streaming is not\n    if (!videoRef.value.videoHeight || !videoRef.value.videoWidth) {\n      setTimeout(() => {\n        process_frame()\n      }, 200)\n      return\n    }\n\n    // set dimestions\n    canvasRef.value.width = videoRef.value.videoWidth;\n    canvasRef.value.height = videoRef.value.videoHeight;\n    \n    // drawing frame\n    ctx.drawImage(videoRef.value, 0, 0, canvasRef.value.width, canvasRef.value.height)\n    ctx.getContextAttributes().willReadFrequently = true;\n    \n    const imageData = ctx.getImageData(0, 0, canvasRef.value.width, canvasRef.value.height);\n    const data = imageData.data;\n\n    for (let i = 0; i < data.length; i += 4) {\n      const red = data[i];\n      const green = data[i + 1];\n      const blue = data[i + 2];\n\n      // You can implement your own logic here\n      if (isCloseToGreen([red, green, blue])) {\n        // if (isCloseToGray([red, green, blue])) {\n        data[i + 3] = 0;\n      }\n    }\n\n    ctx.putImageData(imageData, 0, 0);\n    requestAnimationFrame(process_frame);\n  }\n\n  process_frame();\n}\nfunction isCloseToGreen(color) {\n  const [red, green, blue] = color;\n  return green > 90 && red < 90 && blue < 90;\n}\n","import { Ref, computed, ref } from 'vue';\n\n\nexport default function useQueue<T>(initialValue: T[] = []) {\n  const queue = ref<T[]>(initialValue) as Ref<T[]>\n\n  const add = (el: T) => {\n    queue.value = [...queue.value, el]\n  }\n\n\n  const remove = () => {\n    const [first, ...q] = queue.value\n    queue.value = q\n\n    return first;\n  }\n\n  const clear = () => {\n    queue.value = []\n  }\n\n  return {\n    add,\n    remove,\n    clear,\n    first: computed<T>(() => queue.value[0]),\n    last: computed<T>(() => queue.value[queue.value.length - 1]),\n    size: computed(() => queue.value.length),\n    queue,\n  };\n}","import { computed, onBeforeUnmount, onMounted, ref, watch } from \"vue\";\nimport useQueue from \"./useQueue\";\n\nlet microphone = ref<MediaRecorder>();\nlet microphoneIsOpen = ref(false);\nconst {\n  add: enqueueBlob,\n  remove: removeBlob,\n  first: firstBlob,\n  size: queueSize,\n  queue,\n} = useQueue<Blob>();\n\nconst isRecording = ref(false)\n\nexport default function useMicrophone() {\n  const eventer = () =>\n    document.visibilityState !== \"visible\" && stopMicrophone();\n  onMounted(() => {\n    window.addEventListener(\"visibilitychange\", eventer);\n  });\n  onBeforeUnmount(() => {\n    window.removeEventListener(\"visibilitychange\", eventer);\n    if (microphone.value) microphone.value.ondataavailable = null;\n  });\n\n  watch(microphone, (val) => {\n    if (val) {\n      val.ondataavailable = (e) => {\n        if (microphoneIsOpen.value) {\n          enqueueBlob(e.data);\n        }\n      };\n    }\n  });\n\n  setupMicrophone();\n\n  return {\n    microphone,\n    microphoneIsOpen,\n    startMicrophone,\n    stopMicrophone,\n    queue,\n    isRecording,\n    enqueueBlob,\n    removeBlob,\n    firstBlob,\n    queueSize,\n  }\n}\n\nconst setupMicrophone = async () => {\n  const userMedia = await navigator.mediaDevices.getUserMedia({\n    audio: {\n      noiseSuppression: true,\n      echoCancellation: true,\n    },\n  });\n\n  microphone.value = new MediaRecorder(userMedia);\n};\n\nconst stopMicrophone = () => {\n  if (!microphone.value) return\n\n  if (microphone.value.state === \"recording\") {\n    isRecording.value = false\n    const waiting = setTimeout(() => {\n      clearTimeout(waiting);\n      microphone.value.pause();\n      microphoneIsOpen.value = false;\n    }, 1500);\n  }\n};\n\nconst startMicrophone = () => {\n  if (!microphone.value) return\n  if (microphone.value.state === \"paused\") {\n    microphone.value.resume();\n  } else if (microphone.value.state !== 'recording') {\n    microphone.value.start(250);\n  }\n  microphoneIsOpen.value = true\n  isRecording.value = true\n};\n","import {\n  CreateProjectKeyResponse,\n  LiveClient,\n  LiveSchema,\n  LiveTranscriptionEvents,\n  LiveTranscriptionEvent,LiveConnectionState,\n  SpeakSchema,\n} from \"@deepgram/sdk\";\nimport { onBeforeUnmount, ref, watch } from \"vue\";\nimport useQueue from \"./useQueue\";\n/**\n * TTS Voice Options\n */\nconst voices: {\n  [key: string]: {\n    name: string;\n    avatar: string;\n    language: string;\n    accent: string;\n  };\n} = {\n  \"aura-asteria-en\": {\n    name: \"Asteria\",\n    avatar: \"/aura-asteria-en.svg\",\n    language: \"English\",\n    accent: \"US\",\n  },\n};\nconst voiceMap = (model: string) => {\n  return voices[model];\n};\nconst getApiKey = async (): Promise<string> => {\n  // const result: CreateProjectKeyResponse = await (\n  //   await fetch(\"/api/authenticate\", { cache: \"no-store\" })\n  // ).json();\n  return process.env.VUE_APP_DEEPGRAM_API\n\n};\n\nconst connection = ref<LiveClient>();\nconst isConnecting = ref(false);\nconst connectionIsReady = ref(false);\nlet transcript = ref({\n  isFinal: true,\n  text: \"\"\n})\n\nconst connect = async (lang: 'ru' | 'en') => {\n  if (!connection.value && !isConnecting.value) {\n    isConnecting.value = true;\n    \n    connection.value = new LiveClient(\n      await getApiKey(),\n      {\n        \n      },\n      {\n        language: lang,\n        model: \"nova-2\",\n        interim_results: true,\n        smart_format: true,\n        endpointing: 350,\n        utterance_end_ms: 1000,\n        filler_words: true,\n      }\n    );\n    isConnecting.value = false\n  }\n};\n\nconst keepAlive = () => {\n  let interval;\n  if (connection.value && connectionIsReady) {\n    interval = setInterval(() => {\n      if (connection.value && connection.value.getReadyState() !== LiveConnectionState.OPEN) {\n        clearInterval(interval)\n      } else {\n        if (connection.value) {\n          connection.value.keepAlive()\n        }\n      }\n    }, 10000)\n  } else {\n    if (interval) {\n      clearInterval(interval)\n    }\n  }\n}\n\nconst setupListeners = () => {\n  if (connection.value && connection.value.getReadyState() !== undefined) {\n\n    connection.value.addListener(LiveTranscriptionEvents.Open, () => {\n      connectionIsReady.value = true\n    })\n    \n    connection.value.addListener(LiveTranscriptionEvents.Close, () => {\n      // toast(\"The connection to Deepgram closed, we'll attempt to reconnect.\");\n      clear()\n    })\n\n    connection.value.addListener(LiveTranscriptionEvents.Error, () => {\n      // toast(\n      //   \"An unknown error occured. We'll attempt to reconnect to Deepgram.\"\n      // );\n      clear()\n    })\n    connection.value.addListener(LiveTranscriptionEvents.Metadata, (data) => {\n      console.log(data, 'Metadata')\n    })\n    connection.value.addListener(LiveTranscriptionEvents.Transcript, (data: LiveTranscriptionEvent) => {\n      // console.log(data, 'Transcript')\n      if (data.channel.alternatives[0].transcript) {\n        transcript.value = {\n          isFinal: data.is_final,\n          text: data.channel.alternatives[0].transcript\n        }\n      }\n    })\n  }\n}\n\nconst clear = () => {\n  if (connection.value) {\n    connectionIsReady.value = false\n    connection.value.removeAllListeners()\n    connection.value = undefined\n  }\n}\n\nexport default function useDeepgram(lang: 'ru' | 'en') {\n  const start = async () => {\n    await connect(lang)\n    setupListeners()\n  }\n  start()\n\n  watch(connection, () => {\n    keepAlive()\n  })\n  onBeforeUnmount(()=> {\n    clear()\n  })\n\n  return {\n    connection,\n    isConnecting,\n    transcript,\n    connectionIsReady\n  }\n}\n","import { computed, ref } from \"vue\";\n\nconst API_KEY = process.env.VUE_APP_OPENAI_API_KEY;\nconst textArray = ref<string[]>([])\ntype Message = {\n  role: \"user\" | \"assistant\" | \"system\";\n  content: string;\n};\nconst messages = ref<Message[]>([{\n  role: 'system',\n  content: 'Do not write long text. Your limit is 500 symbols. Try to reply only in this limits.'\n}]);\n\nconst gtpIsStreaming = ref(false)\nconst currentMessage = ref(\"\")\nconst currentWord = ref(\"\")\nexport default function useOpenAI() {\n  return {\n    currentMessage,\n    textArr: textArray,\n    arrSize: computed(() => textArray.value.length),\n    currentWord,\n    gtpIsStreaming,\n    messages,\n    sendMessage\n  };\n}\n\nconst sendCompetions = async () => {\n  return await fetch(\"https://api.openai.com/v1/chat/completions\", {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      Authorization: `Bearer ${API_KEY}`,\n    },\n    body: JSON.stringify({\n      model: \"gpt-3.5-turbo\",\n      temperature: 0.7,\n      stream: true,\n      max_tokens: 1000,\n      messages: messages.value,\n    }),\n  });\n};\n\nconst sendMessage = async (text: string) => {\n  messages.value.push({\n    role: \"user\",\n    content: text,\n  });\n  const stream = await sendCompetions();\n  gtpIsStreaming.value = true\n  const reader = stream.body.getReader();\n  const decoder = new TextDecoder(\"utf-8\");\n\n  while (true) {\n    const { done, value } = await reader.read();\n\n    if (done) break;\n    // Massage and parse the chunk of data\n    const chunk = decoder.decode(value);\n     // Clean up the data\n    const lines = chunk\n    .split(\"\\n\")\n    .map((line) => line.replace(\"data: \", \"\"))\n    .filter((line) => line.length > 0)\n    .filter((line) => line !== \"[DONE]\")\n    .map((line) => {\n      try {\n        return JSON.parse(line)\n      } catch {\n        console.log(line)\n        return \"\"\n      }\n    });\n  \n    for (const parsedLine of lines) {\n      const { choices } = parsedLine;\n      if (choices && choices.length) {\n        const { delta, finish_reason } = choices[0];\n        const { content } = delta;\n        \n        if (content) {\n          // currentWord.value = content\n          currentMessage.value += content\n  \n          textArray.value.push(content)\n        }\n        if (finish_reason) {\n          gtpIsStreaming.value = false\n          messages.value.push({\n            role: 'assistant',\n            content: currentMessage.value\n          })\n          // currentMessage.value = \"\"\n        }\n      }\n    }\n  }\n}\n","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, createElementVNode as _createElementVNode, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, withCtx as _withCtx, createTextVNode as _createTextVNode, createElementBlock as _createElementBlock, normalizeClass as _normalizeClass, createVNode as _createVNode, toDisplayString as _toDisplayString, resolveDirective as _resolveDirective, withDirectives as _withDirectives } from \"vue\"\n\nconst _hoisted_1 = { class: \"home h-[100vh] flex flex-col pt-[20vh] items-center bg-blue-900 py-4 px-4\" }\nconst _hoisted_2 = { class: \"absolute top-4 flex z-[2] flex-col items-center space-y-2\" }\nconst _hoisted_3 = { class: \"flex items-center space-x-2\" }\nconst _hoisted_4 = /*#__PURE__*/_createElementVNode(\"span\", null, \"Start Connection\", -1)\nconst _hoisted_5 = /*#__PURE__*/_createElementVNode(\"div\", { class: \"absolute inset-x-0 m-auto h-80 max-w-lg bg-gradient-to-tr from-indigo-400 via-teal-900 to-[#C084FC] blur-[118px]\" }, null, -1)\nconst _hoisted_6 = { class: \"flex items-start sm:flex-wrap sm:justify-center\" }\nconst _hoisted_7 = {\n  key: 0,\n  class: \"my-4 flex space-x-2 justify-center items-center\"\n}\nconst _hoisted_8 = /*#__PURE__*/_createElementVNode(\"div\", { class: \"h-2 w-2 bg-white rounded-full animate-bounce [animation-delay:-0.3s]\" }, null, -1)\nconst _hoisted_9 = /*#__PURE__*/_createElementVNode(\"div\", { class: \"h-2 w-2 bg-white rounded-full animate-bounce [animation-delay:-0.15s]\" }, null, -1)\nconst _hoisted_10 = /*#__PURE__*/_createElementVNode(\"div\", { class: \"h-2 w-2 bg-white rounded-full animate-bounce\" }, null, -1)\nconst _hoisted_11 = [\n  _hoisted_8,\n  _hoisted_9,\n  _hoisted_10\n]\nconst _hoisted_12 = { class: \"flex items-center space-x-2\" }\nconst _hoisted_13 = {\n  key: 0,\n  initial: {opacity: 0},\n  enter: {opacity: 1},\n  delay: 20,\n  class: \"text-white mt-2 sm:text-[14px] w-[50%] sm:w-full z-[2]\"\n}\nconst _hoisted_14 = /*#__PURE__*/_createElementVNode(\"span\", { class: \"font-bold text-red-300\" }, \"user:\", -1)\nconst _hoisted_15 = {\n  key: 1,\n  initial: {opacity: 0},\n  enter: {opacity: 1},\n  delay: 20,\n  class: \"text-white sm:text-[14px] w-[50%] sm:w-full z-[2] text-left\"\n}\nconst _hoisted_16 = /*#__PURE__*/_createElementVNode(\"span\", { class: \"font-bold text-purple-300\" }, \"avatar:\", -1)\nconst _hoisted_17 = {\n  key: 1,\n  class: \"flex flex-wrap justify-center\"\n}\nconst _hoisted_18 = { class: \"bg-slate-200 font-mono p-4 w-[400px] min-h-[200px] mt-4\" }\nconst _hoisted_19 = /*#__PURE__*/_createElementVNode(\"h1\", { class: \"font-bold text-[20px]\" }, \"OpenAI\", -1)\nconst _hoisted_20 = { class: \"bg-slate-200 font-mono p-4 w-[400px] min-h-[200px] mt-4\" }\nconst _hoisted_21 = /*#__PURE__*/_createElementVNode(\"h1\", { class: \"font-bold text-[20px]\" }, \"HeyGen RTC connection\", -1)\nconst _hoisted_22 = { class: \"bg-slate-200 font-mono p-4 w-[400px] min-h-[200px] mt-4\" }\nconst _hoisted_23 = /*#__PURE__*/_createElementVNode(\"h1\", { class: \"font-bold text-[20px]\" }, \"Microphone Info\", -1)\nconst _hoisted_24 = { class: \"bg-slate-200 font-mono p-4 w-[400px] min-h-[200px] mt-4\" }\nconst _hoisted_25 = /*#__PURE__*/_createElementVNode(\"h1\", { class: \"font-bold text-[20px]\" }, \"Deepgram API\", -1)\n\nimport { ref, watch } from \"vue\";\nimport UIButton from \"@/ui/ui-button.vue\";\nimport UIInput from \"@/ui/ui-input.vue\";\nimport IconMic from '@/components/icon-mic'\nimport IconRecording from '@/components/icon-recording'\nimport UISpinner from \"@/ui/ui-spinner.vue\";\nimport { useAvatar } from \"@/composables/useAvatar\";\nimport useMicroPhone from \"@/composables/useMicrophone\";\nimport useDeepgram from \"@/composables/useDeepgram\";\nimport useOpenAI from \"@/composables/useOpenAI\";\nconst ll = ''\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'HomeView',\n  setup(__props) {\n\nlet isProcessing = ref(false);\nlet userText = ref(ll);\nlet avatarText = ref(ll);\n\nconst {\n  sendMessage,\n  messages,\n  currentMessage,\n  gtpIsStreaming,\n  currentWord,\n} = useOpenAI();\nconst { connection, isConnecting, transcript, connectionIsReady } =\n  useDeepgram(\"en\");\nconst {\n  isRecording,\n  microphoneIsOpen,\n  queue,\n  microphone,\n  firstBlob,\n  removeBlob,\n  queueSize,\n  startMicrophone,\n  stopMicrophone,\n} = useMicroPhone();\nconst videoRef = ref<HTMLVideoElement>();\nconst canvasRef = ref<HTMLCanvasElement>();\nconst {\n  isLoading,\n  isGenerating,\n  iceConnectionState,\n  closeConnection,\n  state,\n  isError,\n  errorMessage,\n  generateVoice,\n  start,\n} = useAvatar(videoRef, canvasRef);\nlet text = ref(\" ,  ?\");\n\nwatch(currentMessage, (v) => {\n  if (v) avatarText.value = v\n})\n\nwatch([currentMessage, gtpIsStreaming], ([value]) => {\n  \n  if (value && !gtpIsStreaming.value) {\n    console.log(value)\n    if (value.length > 200) {\n      console.log (`${value} is longer than 100`)\n      console.log ('split it to 2')\n      const fn = async () => {  \n        const arr = value.split(' ')\n        const halfIndex = Math.ceil(arr.length / 2);\n        let firstHalf = arr.slice(0, halfIndex).join(' ');\n        console.log('sending first:' + firstHalf)\n        await generateVoice(firstHalf)\n        let secondHalf = arr.slice(halfIndex).join(' ');\n        setTimeout(() => {\n          console.log('sending second:' + secondHalf)\n          generateVoice(secondHalf)\n        }, 2000)\n      }\n      \n      fn()\n    } else {\n      console.log('sending:', value)\n      generateVoice(value);\n    }\n    avatarText.value = value;\n    currentMessage.value = \"\";\n  }\n});\n\n\nconst processQueue = () => {\n  if (queueSize.value > 0 && !isProcessing.value) {\n    isProcessing.value = true;\n\n    if (connectionIsReady.value) {\n      const nextBlob = firstBlob.value;\n\n      if (nextBlob && nextBlob.size > 0) {\n        connection.value.send(nextBlob);\n      }\n      removeBlob();\n    }\n    // timeout?\n    isProcessing.value = false;\n  }\n};\n\nwatch(queueSize, () => {\n  processQueue();\n});\n\nwatch(transcript, (val) => {\n  // call openAI\n  userText.value = val.text;\n  if (val.isFinal && !gtpIsStreaming.value) {\n    sendMessage(val.text);\n  }\n});\n\nconst onStopRecording = () => {\n  stopMicrophone();\n  setTimeout(() => {\n    if (\n      !isRecording &&\n      !transcript.value.isFinal &&\n      transcript.value.text !== text.value\n    ) {\n      console.log(\"this case\");\n      text.value = transcript.value.text;\n    }\n  }, 1000);\n};\n\nreturn (_ctx: any,_cache: any) => {\n  const _directive_motion = _resolveDirective(\"motion\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      (_unref(state) === 'stopped')\n        ? (_openBlock(), _createBlock(UIButton, {\n            key: 0,\n            disabled: _unref(isLoading),\n            onClick: _unref(start)\n          }, {\n            default: _withCtx(() => [\n              _createElementVNode(\"div\", _hoisted_3, [\n                _hoisted_4,\n                (_unref(isLoading))\n                  ? (_openBlock(), _createBlock(UISpinner, { key: 0 }))\n                  : _createCommentVNode(\"\", true)\n              ])\n            ]),\n            _: 1\n          }, 8, [\"disabled\", \"onClick\"]))\n        : (_openBlock(), _createBlock(UIButton, {\n            key: 1,\n            onClick: _unref(closeConnection)\n          }, {\n            default: _withCtx(() => [\n              _createTextVNode(\"Stop Connection\")\n            ]),\n            _: 1\n          }, 8, [\"onClick\"]))\n    ]),\n    _createElementVNode(\"div\", {\n      class: _normalizeClass([{'opacity-0': _unref(state) === 'stopped'}, \"flex relative flex-col w-full items-center\"])\n    }, [\n      _hoisted_5,\n      _createElementVNode(\"div\", _hoisted_6, [\n        _createElementVNode(\"video\", {\n          ref_key: \"videoRef\",\n          ref: videoRef,\n          class: \"my-4 hidden z-10 rounded-full max-h-[400px] min-h-[300px] w-[300px]\",\n          autoPlay: \"\",\n          playsInline: \"\"\n        }, null, 512),\n        _createElementVNode(\"canvas\", {\n          ref_key: \"canvasRef\",\n          ref: canvasRef,\n          width: \"300\",\n          height: \"300\",\n          class: \"z-10 my-4 rounded-full max-h-[400px] h-[300px] flex w-[300px]\"\n        }, null, 512)\n      ]),\n      (_unref(gtpIsStreaming) || _unref(isGenerating))\n        ? (_openBlock(), _createElementBlock(\"div\", _hoisted_7, _hoisted_11))\n        : _createCommentVNode(\"\", true)\n    ], 2),\n    (_unref(iceConnectionState) === 'connected')\n      ? (_openBlock(), _createElementBlock(\"div\", {\n          key: 0,\n          class: _normalizeClass([{'opacity-0': _unref(state) === 'stopped'}, \"flex space-x-2 sm:flex-wrap sm:justify-center\"])\n        }, [\n          _createVNode(UIButton, {\n            class: \"z-[2] active:scale-105\",\n            onTouchstart: _unref(startMicrophone),\n            onTouchend: onStopRecording,\n            onMousedown: _unref(startMicrophone),\n            onMouseup: onStopRecording\n          }, {\n            default: _withCtx(() => [\n              _createElementVNode(\"div\", _hoisted_12, [\n                (_unref(isRecording))\n                  ? (_openBlock(), _createBlock(_unref(IconRecording), { key: 0 }))\n                  : (_openBlock(), _createBlock(_unref(IconMic), { key: 1 })),\n                (_unref(isRecording))\n                  ? (_openBlock(), _createBlock(UISpinner, { key: 2 }))\n                  : _createCommentVNode(\"\", true)\n              ])\n            ]),\n            _: 1\n          }, 8, [\"onTouchstart\", \"onMousedown\"])\n        ], 2))\n      : _createCommentVNode(\"\", true),\n    _createElementVNode(\"div\", {\n      class: _normalizeClass({'opacity-0': _unref(state) === 'stopped'})\n    }, [\n      (_unref(userText))\n        ? _withDirectives((_openBlock(), _createElementBlock(\"div\", _hoisted_13, [\n            _hoisted_14,\n            _createTextVNode(\" \" + _toDisplayString(_unref(userText)), 1)\n          ])), [\n            [_directive_motion]\n          ])\n        : _createCommentVNode(\"\", true),\n      (_unref(avatarText))\n        ? _withDirectives((_openBlock(), _createElementBlock(\"div\", _hoisted_15, [\n            _hoisted_16,\n            _createTextVNode(\" \" + _toDisplayString(_unref(avatarText)), 1)\n          ])), [\n            [_directive_motion]\n          ])\n        : _createCommentVNode(\"\", true)\n    ], 2),\n    false\n      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_17, [\n          _createElementVNode(\"div\", _hoisted_18, [\n            _hoisted_19,\n            _createElementVNode(\"p\", null, \"currentWord: \" + _toDisplayString(_unref(currentWord)), 1),\n            _createElementVNode(\"p\", null, \"currentMessage: \" + _toDisplayString(_unref(currentMessage)), 1),\n            _createElementVNode(\"p\", null, \"messages: \" + _toDisplayString(_unref(messages)), 1),\n            _createElementVNode(\"p\", null, \"gtpIsStreaming: \" + _toDisplayString(_unref(gtpIsStreaming)), 1)\n          ]),\n          _createElementVNode(\"div\", _hoisted_20, [\n            _hoisted_21,\n            _createElementVNode(\"p\", null, \"isLoading: \" + _toDisplayString(_unref(isLoading)), 1),\n            _createElementVNode(\"p\", null, \"isGenerating: \" + _toDisplayString(_unref(isGenerating)), 1),\n            _createElementVNode(\"p\", null, \"iceConnectionState: \" + _toDisplayString(_unref(iceConnectionState)), 1),\n            _createElementVNode(\"p\", null, \"isError: \" + _toDisplayString(_unref(isError)), 1),\n            _createElementVNode(\"p\", null, \"errorMessage: \" + _toDisplayString(_unref(errorMessage)), 1)\n          ]),\n          _createElementVNode(\"div\", _hoisted_22, [\n            _hoisted_23,\n            _createElementVNode(\"p\", null, \"isRecording: \" + _toDisplayString(_unref(isRecording)), 1),\n            _createElementVNode(\"p\", null, \"microphone: \" + _toDisplayString(_unref(microphone) && _unref(microphone).state), 1),\n            _createElementVNode(\"p\", null, \"microphoneIsOpen: \" + _toDisplayString(_unref(microphoneIsOpen)), 1),\n            _createElementVNode(\"p\", null, \"queue: \" + _toDisplayString(_unref(queue)), 1),\n            _createElementVNode(\"p\", null, \"queueSize: \" + _toDisplayString(_unref(queueSize)), 1)\n          ]),\n          _createElementVNode(\"div\", _hoisted_24, [\n            _hoisted_25,\n            _createElementVNode(\"p\", null, \"transcript: \" + _toDisplayString(_unref(transcript)), 1),\n            _createElementVNode(\"p\", null, \"isProcessing: \" + _toDisplayString(_unref(isProcessing)), 1),\n            _createElementVNode(\"p\", null, \"connection:. \" + _toDisplayString(_unref(connection) !== undefined), 1),\n            _createElementVNode(\"p\", null, \"isConnecting: \" + _toDisplayString(_unref(isConnecting)), 1),\n            _createElementVNode(\"p\", null, \"connectionIsReady: \" + _toDisplayString(_unref(connectionIsReady)), 1)\n          ])\n        ]))\n      : _createCommentVNode(\"\", true)\n  ]))\n}\n}\n\n})","<script setup lang=\"ts\">\nimport { ref, watch } from \"vue\";\nimport UIButton from \"@/ui/ui-button.vue\";\nimport UIInput from \"@/ui/ui-input.vue\";\nimport IconMic from '@/components/icon-mic'\nimport IconRecording from '@/components/icon-recording'\nimport UISpinner from \"@/ui/ui-spinner.vue\";\nimport { useAvatar } from \"@/composables/useAvatar\";\nimport useMicroPhone from \"@/composables/useMicrophone\";\nimport useDeepgram from \"@/composables/useDeepgram\";\nimport useOpenAI from \"@/composables/useOpenAI\";\nconst ll = ''\nlet isProcessing = ref(false);\nlet userText = ref(ll);\nlet avatarText = ref(ll);\n\nconst {\n  sendMessage,\n  messages,\n  currentMessage,\n  gtpIsStreaming,\n  currentWord,\n} = useOpenAI();\nconst { connection, isConnecting, transcript, connectionIsReady } =\n  useDeepgram(\"en\");\nconst {\n  isRecording,\n  microphoneIsOpen,\n  queue,\n  microphone,\n  firstBlob,\n  removeBlob,\n  queueSize,\n  startMicrophone,\n  stopMicrophone,\n} = useMicroPhone();\nconst videoRef = ref<HTMLVideoElement>();\nconst canvasRef = ref<HTMLCanvasElement>();\nconst {\n  isLoading,\n  isGenerating,\n  iceConnectionState,\n  closeConnection,\n  state,\n  isError,\n  errorMessage,\n  generateVoice,\n  start,\n} = useAvatar(videoRef, canvasRef);\nlet text = ref(\" ,  ?\");\n\nwatch(currentMessage, (v) => {\n  if (v) avatarText.value = v\n})\n\nwatch([currentMessage, gtpIsStreaming], ([value]) => {\n  \n  if (value && !gtpIsStreaming.value) {\n    console.log(value)\n    if (value.length > 200) {\n      console.log (`${value} is longer than 100`)\n      console.log ('split it to 2')\n      const fn = async () => {  \n        const arr = value.split(' ')\n        const halfIndex = Math.ceil(arr.length / 2);\n        let firstHalf = arr.slice(0, halfIndex).join(' ');\n        console.log('sending first:' + firstHalf)\n        await generateVoice(firstHalf)\n        let secondHalf = arr.slice(halfIndex).join(' ');\n        setTimeout(() => {\n          console.log('sending second:' + secondHalf)\n          generateVoice(secondHalf)\n        }, 2000)\n      }\n      \n      fn()\n    } else {\n      console.log('sending:', value)\n      generateVoice(value);\n    }\n    avatarText.value = value;\n    currentMessage.value = \"\";\n  }\n});\n\n\nconst processQueue = () => {\n  if (queueSize.value > 0 && !isProcessing.value) {\n    isProcessing.value = true;\n\n    if (connectionIsReady.value) {\n      const nextBlob = firstBlob.value;\n\n      if (nextBlob && nextBlob.size > 0) {\n        connection.value.send(nextBlob);\n      }\n      removeBlob();\n    }\n    // timeout?\n    isProcessing.value = false;\n  }\n};\n\nwatch(queueSize, () => {\n  processQueue();\n});\n\nwatch(transcript, (val) => {\n  // call openAI\n  userText.value = val.text;\n  if (val.isFinal && !gtpIsStreaming.value) {\n    sendMessage(val.text);\n  }\n});\n\nconst onStopRecording = () => {\n  stopMicrophone();\n  setTimeout(() => {\n    if (\n      !isRecording &&\n      !transcript.value.isFinal &&\n      transcript.value.text !== text.value\n    ) {\n      console.log(\"this case\");\n      text.value = transcript.value.text;\n    }\n  }, 1000);\n};\n</script>\n<template>\n  <div class=\"home h-[100vh] flex flex-col pt-[20vh] items-center bg-blue-900 py-4 px-4\">\n    <div class=\"absolute top-4 flex z-[2] flex-col items-center space-y-2\">\n      <UIButton v-if=\"state === 'stopped'\" :disabled=\"isLoading\" @click=\"start\">\n        <div class=\"flex items-center space-x-2\">\n          <span>Start Connection</span>\n          <UISpinner v-if=\"isLoading\" />\n        </div>\n      </UIButton>\n      <UIButton v-else @click=\"closeConnection\">Stop Connection</UIButton>\n    </div>\n    <div :class=\"{'opacity-0': state === 'stopped'}\" class=\"flex relative flex-col w-full items-center\">\n      <div\n        class=\"absolute inset-x-0 m-auto h-80 max-w-lg bg-gradient-to-tr from-indigo-400 via-teal-900 to-[#C084FC] blur-[118px]\"\n      ></div>\n      <div class=\"flex items-start sm:flex-wrap sm:justify-center\">\n        <video\n          ref=\"videoRef\"\n          class=\"my-4 hidden z-10 rounded-full max-h-[400px] min-h-[300px] w-[300px]\"\n          autoPlay\n          playsInline\n        ></video>\n        <canvas\n          ref=\"canvasRef\"\n          width=\"300\"\n          height=\"300\"\n          class=\"z-10 my-4 rounded-full max-h-[400px] h-[300px] flex w-[300px]\"\n        ></canvas>\n      </div>\n      <div\n        v-if=\"gtpIsStreaming || isGenerating\"\n        class=\"my-4 flex space-x-2 justify-center items-center\"\n      >\n        <div\n          class=\"h-2 w-2 bg-white rounded-full animate-bounce [animation-delay:-0.3s]\"\n        ></div>\n        <div\n          class=\"h-2 w-2 bg-white rounded-full animate-bounce [animation-delay:-0.15s]\"\n        ></div>\n        <div class=\"h-2 w-2 bg-white rounded-full animate-bounce\"></div>\n      </div>\n    </div>\n    <div v-if=\"iceConnectionState === 'connected'\" :class=\"{'opacity-0': state === 'stopped'}\" class=\"flex space-x-2 sm:flex-wrap sm:justify-center\">\n      <UIButton\n        class=\"z-[2] active:scale-105\"\n        @touchstart=\"startMicrophone\"\n        @touchend=\"onStopRecording\"\n        @mousedown=\"startMicrophone\"\n        @mouseup=\"onStopRecording\"\n      >\n        <div class=\"flex items-center space-x-2\">\n          <IconRecording v-if=\"isRecording\"/>\n          <IconMic v-else/>\n          <UISpinner  v-if=\"isRecording\"/>\n        </div>\n      </UIButton>\n    </div>\n    <div :class=\"{'opacity-0': state === 'stopped'}\">\n      <div v-if=\"userText\" v-motion :initial=\"{opacity: 0}\" :enter=\"{opacity: 1}\" :delay=\"20\" class=\"text-white mt-2 sm:text-[14px] w-[50%] sm:w-full z-[2]\">\n        <span class=\"font-bold text-red-300\">user:</span> {{ userText }}\n      </div>\n      <div v-if=\"avatarText\" v-motion :initial=\"{opacity: 0}\" :enter=\"{opacity: 1}\" :delay=\"20\" class=\"text-white sm:text-[14px] w-[50%] sm:w-full z-[2] text-left\">\n        <span class=\"font-bold text-purple-300\">avatar:</span>\n        {{ avatarText }}\n      </div>\n    </div>\n    <div v-if=\"false\" class=\"flex flex-wrap justify-center\">\n      <div class=\"bg-slate-200 font-mono p-4 w-[400px] min-h-[200px] mt-4\">\n        <h1 class=\"font-bold text-[20px]\">OpenAI</h1>\n        <p>currentWord: {{ currentWord }}</p>\n        <p>currentMessage: {{ currentMessage }}</p>\n        <p>messages: {{ messages }}</p>\n        <p>gtpIsStreaming: {{ gtpIsStreaming }}</p>\n      </div>\n      <div class=\"bg-slate-200 font-mono p-4 w-[400px] min-h-[200px] mt-4\">\n        <h1 class=\"font-bold text-[20px]\">HeyGen RTC connection</h1>\n        <p>isLoading: {{ isLoading }}</p>\n        <p>isGenerating: {{ isGenerating }}</p>\n        <p>iceConnectionState: {{ iceConnectionState }}</p>\n        <p>isError: {{ isError }}</p>\n        <p>errorMessage: {{ errorMessage }}</p>\n      </div>\n      <div class=\"bg-slate-200 font-mono p-4 w-[400px] min-h-[200px] mt-4\">\n        <h1 class=\"font-bold text-[20px]\">Microphone Info</h1>\n        <p>isRecording: {{ isRecording }}</p>\n        <p>microphone: {{ microphone && microphone.state }}</p>\n        <p>microphoneIsOpen: {{ microphoneIsOpen }}</p>\n        <p>queue: {{ queue }}</p>\n        <p>queueSize: {{ queueSize }}</p>\n      </div>\n      <div class=\"bg-slate-200 font-mono p-4 w-[400px] min-h-[200px] mt-4\">\n        <h1 class=\"font-bold text-[20px]\">Deepgram API</h1>\n        <p>transcript: {{ transcript }}</p>\n        <p>isProcessing: {{ isProcessing }}</p>\n        <p>connection:. {{ connection !== undefined }}</p>\n        <p>isConnecting: {{ isConnecting }}</p>\n        <p>connectionIsReady: {{ connectionIsReady }}</p>\n      </div>\n    </div>\n  </div>\n</template>\n","import script from \"./HomeView.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./HomeView.vue?vue&type=script&setup=true&lang=ts\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { createRouter, createWebHistory, RouteRecordRaw } from 'vue-router';\nimport HomeView from '../views/HomeView.vue';\n\nconst routes: Array<RouteRecordRaw> = [\n  {\n    path: '/',\n    name: 'home',\n    component: HomeView,\n  },\n  {\n    path: '/about',\n    name: 'about',\n    // route level code-splitting\n    // this generates a separate chunk (about.[hash].js) for this route\n    // which is lazy-loaded when the route is visited.\n    component: () => import(/* webpackChunkName: \"about\" */ '../views/AboutView.vue'),\n  },\n];\n\nconst router = createRouter({\n  history: createWebHistory(process.env.BASE_URL),\n  routes,\n});\n\nexport default router;\n","import './index.css';\nimport {MotionPlugin} from '@vueuse/motion'\nimport { createApp } from 'vue';\nimport App from './App.vue';\nimport router from './router';\n\ncreateApp(App).use(router).use(MotionPlugin).mount('#app');\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = function(chunkId) {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce(function(promises, key) {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = function(chunkId) {\n\t// return url for filenames based on template\n\treturn \"js/\" + \"about\" + \".\" + \"0d40336c\" + \".js\";\n};","// This function allow to reference async chunks\n__webpack_require__.miniCssF = function(chunkId) {\n\t// return url for filenames based on template\n\treturn undefined;\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","var inProgress = {};\nvar dataWebpackPrefix = \"vue-avatar:\";\n// loadScript function to load a script via script tag\n__webpack_require__.l = function(url, done, key, chunkId) {\n\tif(inProgress[url]) { inProgress[url].push(done); return; }\n\tvar script, needAttach;\n\tif(key !== undefined) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tfor(var i = 0; i < scripts.length; i++) {\n\t\t\tvar s = scripts[i];\n\t\t\tif(s.getAttribute(\"src\") == url || s.getAttribute(\"data-webpack\") == dataWebpackPrefix + key) { script = s; break; }\n\t\t}\n\t}\n\tif(!script) {\n\t\tneedAttach = true;\n\t\tscript = document.createElement('script');\n\n\t\tscript.charset = 'utf-8';\n\t\tscript.timeout = 120;\n\t\tif (__webpack_require__.nc) {\n\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n\t\t}\n\t\tscript.setAttribute(\"data-webpack\", dataWebpackPrefix + key);\n\n\t\tscript.src = url;\n\t}\n\tinProgress[url] = [done];\n\tvar onScriptComplete = function(prev, event) {\n\t\t// avoid mem leaks in IE.\n\t\tscript.onerror = script.onload = null;\n\t\tclearTimeout(timeout);\n\t\tvar doneFns = inProgress[url];\n\t\tdelete inProgress[url];\n\t\tscript.parentNode && script.parentNode.removeChild(script);\n\t\tdoneFns && doneFns.forEach(function(fn) { return fn(event); });\n\t\tif(prev) return prev(event);\n\t}\n\tvar timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);\n\tscript.onerror = onScriptComplete.bind(null, script.onerror);\n\tscript.onload = onScriptComplete.bind(null, script.onload);\n\tneedAttach && document.head.appendChild(script);\n};","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.p = \"/avatar-vue/\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t524: 0\n};\n\n__webpack_require__.f.j = function(chunkId, promises) {\n\t\t// JSONP chunk loading for javascript\n\t\tvar installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;\n\t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n\t\t\t// a Promise means \"currently loading\".\n\t\t\tif(installedChunkData) {\n\t\t\t\tpromises.push(installedChunkData[2]);\n\t\t\t} else {\n\t\t\t\tif(true) { // all chunks have JS\n\t\t\t\t\t// setup Promise in chunk cache\n\t\t\t\t\tvar promise = new Promise(function(resolve, reject) { installedChunkData = installedChunks[chunkId] = [resolve, reject]; });\n\t\t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n\t\t\t\t\t// start chunk loading\n\t\t\t\t\tvar url = __webpack_require__.p + __webpack_require__.u(chunkId);\n\t\t\t\t\t// create error before stack unwound to get useful stacktrace later\n\t\t\t\t\tvar error = new Error();\n\t\t\t\t\tvar loadingEnded = function(event) {\n\t\t\t\t\t\tif(__webpack_require__.o(installedChunks, chunkId)) {\n\t\t\t\t\t\t\tinstalledChunkData = installedChunks[chunkId];\n\t\t\t\t\t\t\tif(installedChunkData !== 0) installedChunks[chunkId] = undefined;\n\t\t\t\t\t\t\tif(installedChunkData) {\n\t\t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n\t\t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n\t\t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n\t\t\t\t\t\t\t\terror.type = errorType;\n\t\t\t\t\t\t\t\terror.request = realSrc;\n\t\t\t\t\t\t\t\tinstalledChunkData[1](error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t__webpack_require__.l(url, loadingEnded, \"chunk-\" + chunkId, chunkId);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n};\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkvue_avatar\"] = self[\"webpackChunkvue_avatar\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [504], function() { return __webpack_require__(7086); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["role","_createElementVNode","class","viewBox","fill","xmlns","d","_hoisted_2","_hoisted_3","_createElementBlock","_hoisted_1","_hoisted_4","script","__exports__","render","errorToast","ref","toastIsShown","showToast","msg","value","message","setTimeout","isLoading","useSystem","showLoading","hideLoading","key","_defineComponent","__name","setup","__props","_ctx","_cache","_unref","_openBlock","_createVNode","UISpinner","_createCommentVNode","initial","y","enter","delay","id","_hoisted_5","_hoisted_6","stroke","_hoisted_7","_directive_motion","_resolveDirective","_withDirectives","_toDisplayString","onClick","$event","type","_component_router_view","_resolveComponent","_Fragment","GlobalLoader","ErrorToast","onContextmenu","_withModifiers","_renderSlot","$slots","width","height","x","rx","SERVER_URL","process","apiKey","shouldRenderCanvas","isError","state","errorMessage","mediaCanPlay","isGenerating","sessionInfo","peerConnection","iceConnectionState","useAvatar","incomingVideoRef","incomingCanvasRef","start","async","checkSessionsAndCloseIfExists","Promise","res","rej","createNewSession","startAndDisplaySession","renderCanvas","closeConnection","closeConnectionHandler","generateVoice","repeat","session_id","text","videoRef","canvasRef","avatarID","voiceID","newSession","sdp","serverSdp","ice_servers2","iceServers","RTCPeerConnection","ontrack","event","console","log","track","kind","srcObject","streams","paused","play","then","_","catch","ondatachannel","dataChannel","channel","onmessage","remoteDescription","RTCSessionDescription","setRemoteDescription","localDescription","createAnswer","setLocalDescription","onicecandidate","candidate","handleICE","toJSON","oniceconnectionstatechange","startSession","quality","avatar_name","voice_id","response","fetch","method","headers","body","JSON","stringify","voice","status","Error","data","json","err","error","renderID","close","resp","stopSession","getSessionsList","sessionsData","sessions","length","forEach","s","options","accept","curRenderID","Math","trunc","random","ctx","getContext","willReadFrequently","process_frame","videoHeight","videoWidth","drawImage","getContextAttributes","imageData","getImageData","i","red","green","blue","isCloseToGreen","putImageData","requestAnimationFrame","color","useQueue","initialValue","queue","add","el","remove","first","q","clear","computed","last","size","microphone","microphoneIsOpen","enqueueBlob","removeBlob","firstBlob","queueSize","isRecording","useMicrophone","eventer","document","visibilityState","stopMicrophone","onMounted","window","addEventListener","onBeforeUnmount","removeEventListener","ondataavailable","watch","val","e","setupMicrophone","startMicrophone","userMedia","navigator","mediaDevices","getUserMedia","audio","noiseSuppression","echoCancellation","MediaRecorder","waiting","clearTimeout","pause","resume","getApiKey","connection","isConnecting","connectionIsReady","transcript","isFinal","connect","LiveClient","language","lang","model","interim_results","smart_format","endpointing","utterance_end_ms","filler_words","keepAlive","interval","setInterval","getReadyState","LiveConnectionState","OPEN","clearInterval","setupListeners","undefined","addListener","LiveTranscriptionEvents","Open","Close","Metadata","Transcript","alternatives","is_final","removeAllListeners","useDeepgram","API_KEY","textArray","messages","content","gtpIsStreaming","currentMessage","currentWord","useOpenAI","textArr","arrSize","sendMessage","sendCompetions","Authorization","temperature","stream","max_tokens","push","reader","getReader","decoder","TextDecoder","done","read","chunk","decode","lines","split","map","line","replace","filter","parse","parsedLine","choices","delta","finish_reason","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","opacity","_hoisted_14","_hoisted_15","_hoisted_16","ll","isProcessing","userText","avatarText","useMicroPhone","v","fn","arr","halfIndex","ceil","firstHalf","slice","join","secondHalf","processQueue","nextBlob","send","onStopRecording","_createBlock","UIButton","disabled","default","_withCtx","_createTextVNode","_normalizeClass","ref_key","autoPlay","playsInline","onTouchstart","onTouchend","onMousedown","onMouseup","IconRecording","IconMic","routes","path","name","component","HomeView","router","createRouter","history","createWebHistory","createApp","App","use","MotionPlugin","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","call","m","deferred","O","result","chunkIds","priority","notFulfilled","Infinity","fulfilled","j","Object","keys","every","splice","r","n","getter","__esModule","a","definition","o","defineProperty","enumerable","get","f","chunkId","all","reduce","promises","u","miniCssF","g","globalThis","this","Function","obj","prop","prototype","hasOwnProperty","inProgress","dataWebpackPrefix","l","url","needAttach","scripts","getElementsByTagName","getAttribute","createElement","charset","timeout","nc","setAttribute","src","onScriptComplete","prev","onerror","onload","doneFns","parentNode","removeChild","bind","target","head","appendChild","Symbol","toStringTag","p","installedChunks","installedChunkData","promise","resolve","reject","loadingEnded","errorType","realSrc","request","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","self","__webpack_exports__"],"sourceRoot":""}