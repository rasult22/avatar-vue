{"version":3,"file":"js/app.fc3cb877.js","mappings":"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","sources":["webpack://vue-avatar/./src/ui/ui-spinner.vue","webpack://vue-avatar/./src/ui/ui-spinner.vue?cccb","webpack://vue-avatar/./src/composables/useSystem.ts","webpack://vue-avatar/./src/components/global-loader.vue?767b","webpack://vue-avatar/./src/components/global-loader.vue","webpack://vue-avatar/./src/components/global-loader.vue?4044","webpack://vue-avatar/./src/components/error-toast.vue?4c13","webpack://vue-avatar/./src/components/error-toast.vue","webpack://vue-avatar/./src/components/error-toast.vue?cb44","webpack://vue-avatar/./src/views/HomeView.vue?404b","webpack://vue-avatar/./src/views/HomeView.vue","webpack://vue-avatar/./src/views/HomeView.vue?7533","webpack://vue-avatar/./src/ui/ui-button.vue","webpack://vue-avatar/./src/ui/ui-button.vue?3b96","webpack://vue-avatar/./src/components/icon-en.vue","webpack://vue-avatar/./src/components/icon-en.vue?ec5d","webpack://vue-avatar/./src/components/icon-ru.vue","webpack://vue-avatar/./src/components/icon-ru.vue?5bf7","webpack://vue-avatar/./src/components/icon-mic.vue","webpack://vue-avatar/./src/components/icon-mic.vue?2ae8","webpack://vue-avatar/./src/components/icon-recording.vue","webpack://vue-avatar/./src/components/icon-recording.vue?8c63","webpack://vue-avatar/./src/composables/useAvatar.ts","webpack://vue-avatar/./src/composables/useQueue.ts","webpack://vue-avatar/./src/composables/useMicrophone.ts","webpack://vue-avatar/./src/composables/useDeepgram.ts","webpack://vue-avatar/./src/composables/useOpenAI.ts","webpack://vue-avatar/./src/views/AvatarView.vue?59c4","webpack://vue-avatar/./src/views/AvatarView.vue","webpack://vue-avatar/./src/views/AvatarView.vue?b256","webpack://vue-avatar/./src/router/index.ts","webpack://vue-avatar/./src/App.vue?16ba","webpack://vue-avatar/./src/App.vue","webpack://vue-avatar/./src/App.vue?aa4d","webpack://vue-avatar/./src/main.ts","webpack://vue-avatar/webpack/bootstrap","webpack://vue-avatar/webpack/runtime/chunk loaded","webpack://vue-avatar/webpack/runtime/compat get default export","webpack://vue-avatar/webpack/runtime/define property getters","webpack://vue-avatar/webpack/runtime/ensure chunk","webpack://vue-avatar/webpack/runtime/get javascript chunk filename","webpack://vue-avatar/webpack/runtime/get mini-css chunk filename","webpack://vue-avatar/webpack/runtime/global","webpack://vue-avatar/webpack/runtime/hasOwnProperty shorthand","webpack://vue-avatar/webpack/runtime/load script","webpack://vue-avatar/webpack/runtime/make namespace object","webpack://vue-avatar/webpack/runtime/publicPath","webpack://vue-avatar/webpack/runtime/jsonp chunk loading","webpack://vue-avatar/webpack/startup"],"sourcesContent":["<script setup lang=\"ts\">\n</script>\n<template>\n  <div role=\"status\">\n    <svg aria-hidden=\"true\" class=\"inline w-6 h-6 text-gray-200 animate-spin dark:text-gray-600 fill-blue-600\" viewBox=\"0 0 100 101\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <path d=\"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z\" fill=\"currentColor\"/>\n        <path d=\"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z\" fill=\"currentFill\"/>\n    </svg>\n    <span class=\"sr-only\">Loading...</span>\n</div>\n</template>","import { render } from \"./ui-spinner.vue?vue&type=template&id=4087897a\"\nconst script = {}\n\nimport exportComponent from \"../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.4.21_webpack@5.91.0/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { ref } from \"vue\";\n\nconst errorToast = ref({\n  toastIsShown: false,\n  showToast: (msg: string) => {\n    errorToast.value.toastIsShown = false;\n    errorToast.value.message = msg\n    errorToast.value.toastIsShown = true;\n    setTimeout(() => {\n      errorToast.value.toastIsShown = false\n    }, 15500)\n  },\n  message: 'Something went wrong'\n})\n\nconst isLoading = ref(false)\n\nexport default function useSystem() {\n  return {\n    isLoading,\n    errorToast,\n    showLoading: () => isLoading.value = true,\n    hideLoading: () => isLoading.value = false,\n  }\n}","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, createVNode as _createVNode, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode } from \"vue\"\n\nconst _hoisted_1 = {\n  key: 0,\n  class: \"w-full h-full z-50 fixed top-0 left-0 backdrop-blur-sm\"\n}\nconst _hoisted_2 = { class: \"flex w-full h-full fixed z-[51] items-center justify-center\" }\nconst _hoisted_3 = { class: \"bg-white shadow-2xl p-4 rounded-md border\" }\n\nimport UISpinner from '@/ui/ui-spinner.vue';\nimport useSystem from '@/composables/useSystem'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'global-loader',\n  setup(__props) {\n\nconst {isLoading} = useSystem()\n\nreturn (_ctx: any,_cache: any) => {\n  return (_unref(isLoading))\n    ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n        _createElementVNode(\"div\", _hoisted_2, [\n          _createElementVNode(\"div\", _hoisted_3, [\n            _createVNode(UISpinner)\n          ])\n        ])\n      ]))\n    : _createCommentVNode(\"\", true)\n}\n}\n\n})","<script setup lang=\"ts\">\nimport UISpinner from '@/ui/ui-spinner.vue';\nimport useSystem from '@/composables/useSystem'\n\nconst {isLoading} = useSystem()\n</script>\n<template>\n  <div v-if=\"isLoading\" class=\"w-full h-full z-50 fixed top-0 left-0 backdrop-blur-sm\">\n    <div class=\"flex w-full h-full fixed z-[51] items-center justify-center \">\n      <div class=\"bg-white shadow-2xl p-4 rounded-md border\">\n        <UISpinner />\n      </div>\n    </div>\n  </div>\n</template>","import script from \"./global-loader.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./global-loader.vue?vue&type=script&setup=true&lang=ts\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, resolveDirective as _resolveDirective, withDirectives as _withDirectives, createCommentVNode as _createCommentVNode } from \"vue\"\n\nconst _hoisted_1 = {\n  key: 0,\n  class: \"fixed top-1 z-[100] flex w-full justify-center\",\n  initial: {\n    y: -100\n\n  },\n  enter: {\n    y: 0  \n  },\n  delay: 20\n}\nconst _hoisted_2 = {\n  id: \"toast-warning\",\n  class: \"flex items-center w-full max-w-xs p-4 text-gray-500 bg-white rounded-lg shadow dark:text-gray-400 dark:bg-gray-800\",\n  role: \"alert\"\n}\nconst _hoisted_3 = /*#__PURE__*/_createElementVNode(\"div\", { class: \"inline-flex items-center justify-center flex-shrink-0 w-8 h-8 text-orange-500 bg-orange-100 rounded-lg dark:bg-orange-700 dark:text-orange-200\" }, [\n  /*#__PURE__*/_createElementVNode(\"svg\", {\n    class: \"w-5 h-5\",\n    \"aria-hidden\": \"true\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"currentColor\",\n    viewBox: \"0 0 20 20\"\n  }, [\n    /*#__PURE__*/_createElementVNode(\"path\", { d: \"M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5ZM10 15a1 1 0 1 1 0-2 1 1 0 0 1 0 2Zm1-4a1 1 0 0 1-2 0V6a1 1 0 0 1 2 0v5Z\" })\n  ]),\n  /*#__PURE__*/_createElementVNode(\"span\", { class: \"sr-only\" }, \"Warning icon\")\n], -1)\nconst _hoisted_4 = { class: \"ms-3 text-sm font-normal\" }\nconst _hoisted_5 = /*#__PURE__*/_createElementVNode(\"span\", { class: \"sr-only\" }, \"Close\", -1)\nconst _hoisted_6 = /*#__PURE__*/_createElementVNode(\"svg\", {\n  class: \"w-3 h-3\",\n  \"aria-hidden\": \"true\",\n  xmlns: \"http://www.w3.org/2000/svg\",\n  fill: \"none\",\n  viewBox: \"0 0 14 14\"\n}, [\n  /*#__PURE__*/_createElementVNode(\"path\", {\n    stroke: \"currentColor\",\n    \"stroke-linecap\": \"round\",\n    \"stroke-linejoin\": \"round\",\n    \"stroke-width\": \"2\",\n    d: \"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6\"\n  })\n], -1)\nconst _hoisted_7 = [\n  _hoisted_5,\n  _hoisted_6\n]\n\nimport useSystem from '@/composables/useSystem'\nimport { useRouter } from 'vue-router';\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'error-toast',\n  setup(__props) {\n\nconst {errorToast} = useSystem()\nconst r  =useRouter()\nconst onRetry = async () => {\n  await r.push('/')\n  await r.push('/avatar')\n  errorToast.value.toastIsShown = false\n}\n\nreturn (_ctx: any,_cache: any) => {\n  const _directive_motion = _resolveDirective(\"motion\")!\n\n  return (_unref(errorToast).toastIsShown)\n    ? _withDirectives((_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n        _createElementVNode(\"div\", _hoisted_2, [\n          _hoisted_3,\n          _createElementVNode(\"div\", _hoisted_4, _toDisplayString(_unref(errorToast).message), 1),\n          _createElementVNode(\"a\", {\n            onClick: onRetry,\n            class: \"inline-flex px-2.5 py-1.5 text-xs font-medium text-center text-white bg-blue-600 rounded-lg hover:bg-blue-700 focus:ring-4 focus:outline-none focus:ring-blue-300 dark:bg-blue-500 dark:hover:bg-blue-600 dark:focus:ring-blue-800\"\n          }, \"Retry\"),\n          _createElementVNode(\"button\", {\n            onClick: _cache[0] || (_cache[0] = ($event: any) => (_unref(errorToast).toastIsShown = false)),\n            type: \"button\",\n            class: \"ms-auto -mx-1.5 -my-1.5 bg-white text-gray-400 hover:text-gray-900 rounded-lg focus:ring-2 focus:ring-gray-300 p-1.5 hover:bg-gray-100 inline-flex items-center justify-center h-8 w-8 dark:text-gray-500 dark:hover:text-white dark:bg-gray-800 dark:hover:bg-gray-700\",\n            \"data-dismiss-target\": \"#toast-warning\",\n            \"aria-label\": \"Close\"\n          }, _hoisted_7)\n        ])\n      ])), [\n        [_directive_motion]\n      ])\n    : _createCommentVNode(\"\", true)\n}\n}\n\n})","<script setup lang=\"ts\">\nimport useSystem from '@/composables/useSystem'\nimport { useRouter } from 'vue-router';\nconst {errorToast} = useSystem()\nconst r  =useRouter()\nconst onRetry = async () => {\n  await r.push('/')\n  await r.push('/avatar')\n  errorToast.value.toastIsShown = false\n}\n</script>\n<template>\n  <div class=\"fixed top-1 z-[100] flex w-full justify-center\" v-if=\"errorToast.toastIsShown\" v-motion :initial=\"{\n    y: -100\n\n  }\"\n  :enter=\"{\n    y: 0  \n  }\"\n  :delay=\"20\"\n  >\n    <div id=\"toast-warning\" class=\"flex items-center w-full max-w-xs p-4 text-gray-500 bg-white rounded-lg shadow dark:text-gray-400 dark:bg-gray-800\" role=\"alert\">\n      <div class=\"inline-flex items-center justify-center flex-shrink-0 w-8 h-8 text-orange-500 bg-orange-100 rounded-lg dark:bg-orange-700 dark:text-orange-200\">\n            <svg class=\"w-5 h-5\" aria-hidden=\"true\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                <path d=\"M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5ZM10 15a1 1 0 1 1 0-2 1 1 0 0 1 0 2Zm1-4a1 1 0 0 1-2 0V6a1 1 0 0 1 2 0v5Z\"/>\n            </svg>\n            <span class=\"sr-only\">Warning icon</span>\n        </div>\n        <div class=\"ms-3 text-sm font-normal\">{{errorToast.message}}</div>\n        <a @click=\"onRetry\" class=\"inline-flex px-2.5 py-1.5 text-xs font-medium text-center text-white bg-blue-600 rounded-lg hover:bg-blue-700 focus:ring-4 focus:outline-none focus:ring-blue-300 dark:bg-blue-500 dark:hover:bg-blue-600 dark:focus:ring-blue-800\">Retry</a>\n        <button @click=\"errorToast.toastIsShown = false\" type=\"button\" class=\"ms-auto -mx-1.5 -my-1.5 bg-white text-gray-400 hover:text-gray-900 rounded-lg focus:ring-2 focus:ring-gray-300 p-1.5 hover:bg-gray-100 inline-flex items-center justify-center h-8 w-8 dark:text-gray-500 dark:hover:text-white dark:bg-gray-800 dark:hover:bg-gray-700\" data-dismiss-target=\"#toast-warning\" aria-label=\"Close\">\n            <span class=\"sr-only\">Close</span>\n            <svg class=\"w-3 h-3\" aria-hidden=\"true\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 14 14\">\n                <path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6\"/>\n            </svg>\n        </button>\n    </div>  \n  </div>\n</template>","import script from \"./error-toast.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./error-toast.vue?vue&type=script&setup=true&lang=ts\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, createStaticVNode as _createStaticVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = { class: \"home min-h-[100vh] flex flex-col pt-[20vh] items-center bg-blue-900 py-4 px-4\" }\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"div\", { class: \"absolute inset-x-0 m-auto h-80 max-w-lg bg-gradient-to-tr from-indigo-400 via-teal-900 to-[#C084FC] blur-[118px]\" }, null, -1)\nconst _hoisted_3 = { class: \"z-[2] flex space-x-4\" }\nconst _hoisted_4 = /*#__PURE__*/_createStaticVNode(\"<svg class=\\\"max-w-[96px]\\\" width=\\\"513\\\" height=\\\"343\\\" viewBox=\\\"0 0 513 343\\\" fill=\\\"none\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><g clip-path=\\\"url(#clip0_301_131)\\\"><path d=\\\"M0 0.957031H513V342.957H0V0.957031Z\\\" fill=\\\"white\\\"></path><path d=\\\"M0 0.957031H513V27.257H0V0.957031ZM0 53.557H513V79.857H0V53.557ZM0 106.157H513V132.457H0V106.157ZM0 158.757H513V185.057H0V158.757ZM0 211.457H513V237.757H0V211.457ZM0 264.057H513V290.357H0V264.057ZM0 316.657H513V342.957H0V316.657Z\\\" fill=\\\"#D80027\\\"></path><path d=\\\"M0 0.957031H256.5V185.057H0V0.957031Z\\\" fill=\\\"#2E52B2\\\"></path><path d=\\\"M47.8002 139.857L43.8002 127.057L39.4002 139.857H26.2002L36.9002 147.557L32.9002 160.357L43.8002 152.457L54.4002 160.357L50.3002 147.557L61.2002 139.857H47.8002ZM104.1 139.857L100 127.057L95.8002 139.857H82.6002L93.3002 147.557L89.3002 160.357L100 152.457L110.8 160.357L106.8 147.557L117.5 139.857H104.1ZM160.6 139.857L156.3 127.057L152.3 139.857H138.8L149.8 147.557L145.6 160.357L156.3 152.457L167.3 160.357L163.1 147.557L173.8 139.857H160.6ZM216.8 139.857L212.8 127.057L208.6 139.857H195.3L206.1 147.557L202.1 160.357L212.8 152.457L223.6 160.357L219.3 147.557L230.3 139.857H216.8ZM100 76.2572L95.8002 89.0572H82.6002L93.3002 96.9572L89.3002 109.557L100 101.757L110.8 109.557L106.8 96.9572L117.5 89.0572H104.1L100 76.2572ZM43.8002 76.2572L39.4002 89.0572H26.2002L36.9002 96.9572L32.9002 109.557L43.8002 101.757L54.4002 109.557L50.3002 96.9572L61.2002 89.0572H47.8002L43.8002 76.2572ZM156.3 76.2572L152.3 89.0572H138.8L149.8 96.9572L145.6 109.557L156.3 101.757L167.3 109.557L163.1 96.9572L173.8 89.0572H160.6L156.3 76.2572ZM212.8 76.2572L208.6 89.0572H195.3L206.1 96.9572L202.1 109.557L212.8 101.757L223.6 109.557L219.3 96.9572L230.3 89.0572H216.8L212.8 76.2572ZM43.8002 25.6572L39.4002 38.2572H26.2002L36.9002 46.1572L32.9002 58.8572L43.8002 50.9572L54.4002 58.8572L50.3002 46.1572L61.2002 38.2572H47.8002L43.8002 25.6572ZM100 25.6572L95.8002 38.2572H82.6002L93.3002 46.1572L89.3002 58.8572L100 50.9572L110.8 58.8572L106.8 46.1572L117.5 38.2572H104.1L100 25.6572ZM156.3 25.6572L152.3 38.2572H138.8L149.8 46.1572L145.6 58.8572L156.3 50.9572L167.3 58.8572L163.1 46.1572L173.8 38.2572H160.6L156.3 25.6572ZM212.8 25.6572L208.6 38.2572H195.3L206.1 46.1572L202.1 58.8572L212.8 50.9572L223.6 58.8572L219.3 46.1572L230.3 38.2572H216.8L212.8 25.6572Z\\\" fill=\\\"white\\\"></path></g><defs><clipPath id=\\\"clip0_301_131\\\"><rect width=\\\"513\\\" height=\\\"342\\\" fill=\\\"white\\\" transform=\\\"translate(0 0.957031)\\\"></rect></clipPath></defs></svg>\", 1)\nconst _hoisted_5 = [\n  _hoisted_4\n]\nconst _hoisted_6 = /*#__PURE__*/_createStaticVNode(\"<svg class=\\\"max-w-[96px]\\\" width=\\\"513\\\" height=\\\"342\\\" viewBox=\\\"0 0 513 342\\\" fill=\\\"none\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><g clip-path=\\\"url(#clip0_301_429)\\\"><path d=\\\"M0 -0.00292969V341.996H513V-0.00292969H0Z\\\" fill=\\\"white\\\"></path><path d=\\\"M0 0H513V342.004H0V0Z\\\" fill=\\\"#0052B4\\\"></path><path d=\\\"M0 0H513V113.997H0V0Z\\\" fill=\\\"white\\\"></path><path d=\\\"M0 227.995H513V341.992H0V227.995Z\\\" fill=\\\"#D80027\\\"></path></g><defs><clipPath id=\\\"clip0_301_429\\\"><rect width=\\\"513\\\" height=\\\"342\\\" fill=\\\"white\\\"></rect></clipPath></defs></svg>\", 1)\nconst _hoisted_7 = [\n  _hoisted_6\n]\n\nimport { useRouter } from 'vue-router';\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'HomeView',\n  setup(__props) {\n\nconst r = useRouter()\nconst onSelect = (lang: string) => {\n  localStorage.setItem('lang', lang)\n  r.push('/avatar')\n}\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _hoisted_2,\n    _createElementVNode(\"div\", _hoisted_3, [\n      _createElementVNode(\"div\", {\n        onClick: _cache[0] || (_cache[0] = () => onSelect('en')),\n        class: \"active:scale-95 transition-transform\"\n      }, _hoisted_5),\n      _createElementVNode(\"div\", {\n        onClick: _cache[1] || (_cache[1] = () => onSelect('ru')),\n        class: \"active:scale-95 transition-transform\"\n      }, _hoisted_7)\n    ])\n  ]))\n}\n}\n\n})","<script setup lang=\"ts\">\nimport { useRouter } from 'vue-router';\n\nconst r = useRouter()\nconst onSelect = (lang: string) => {\n  localStorage.setItem('lang', lang)\n  r.push('/avatar')\n}\n</script>\n<template>\n  <div class=\"home min-h-[100vh] flex flex-col pt-[20vh] items-center bg-blue-900 py-4 px-4\">\n    <div\n    class=\"absolute inset-x-0 m-auto h-80 max-w-lg bg-gradient-to-tr from-indigo-400 via-teal-900 to-[#C084FC] blur-[118px]\"\n  ></div>\n    <div class=\"z-[2] flex space-x-4\">\n      <div @click=\"() => onSelect('en')\" class=\"active:scale-95 transition-transform\"><svg class=\"max-w-[96px]\" width=\"513\" height=\"343\" viewBox=\"0 0 513 343\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <g clip-path=\"url(#clip0_301_131)\">\n        <path d=\"M0 0.957031H513V342.957H0V0.957031Z\" fill=\"white\"/>\n        <path d=\"M0 0.957031H513V27.257H0V0.957031ZM0 53.557H513V79.857H0V53.557ZM0 106.157H513V132.457H0V106.157ZM0 158.757H513V185.057H0V158.757ZM0 211.457H513V237.757H0V211.457ZM0 264.057H513V290.357H0V264.057ZM0 316.657H513V342.957H0V316.657Z\" fill=\"#D80027\"/>\n        <path d=\"M0 0.957031H256.5V185.057H0V0.957031Z\" fill=\"#2E52B2\"/>\n        <path d=\"M47.8002 139.857L43.8002 127.057L39.4002 139.857H26.2002L36.9002 147.557L32.9002 160.357L43.8002 152.457L54.4002 160.357L50.3002 147.557L61.2002 139.857H47.8002ZM104.1 139.857L100 127.057L95.8002 139.857H82.6002L93.3002 147.557L89.3002 160.357L100 152.457L110.8 160.357L106.8 147.557L117.5 139.857H104.1ZM160.6 139.857L156.3 127.057L152.3 139.857H138.8L149.8 147.557L145.6 160.357L156.3 152.457L167.3 160.357L163.1 147.557L173.8 139.857H160.6ZM216.8 139.857L212.8 127.057L208.6 139.857H195.3L206.1 147.557L202.1 160.357L212.8 152.457L223.6 160.357L219.3 147.557L230.3 139.857H216.8ZM100 76.2572L95.8002 89.0572H82.6002L93.3002 96.9572L89.3002 109.557L100 101.757L110.8 109.557L106.8 96.9572L117.5 89.0572H104.1L100 76.2572ZM43.8002 76.2572L39.4002 89.0572H26.2002L36.9002 96.9572L32.9002 109.557L43.8002 101.757L54.4002 109.557L50.3002 96.9572L61.2002 89.0572H47.8002L43.8002 76.2572ZM156.3 76.2572L152.3 89.0572H138.8L149.8 96.9572L145.6 109.557L156.3 101.757L167.3 109.557L163.1 96.9572L173.8 89.0572H160.6L156.3 76.2572ZM212.8 76.2572L208.6 89.0572H195.3L206.1 96.9572L202.1 109.557L212.8 101.757L223.6 109.557L219.3 96.9572L230.3 89.0572H216.8L212.8 76.2572ZM43.8002 25.6572L39.4002 38.2572H26.2002L36.9002 46.1572L32.9002 58.8572L43.8002 50.9572L54.4002 58.8572L50.3002 46.1572L61.2002 38.2572H47.8002L43.8002 25.6572ZM100 25.6572L95.8002 38.2572H82.6002L93.3002 46.1572L89.3002 58.8572L100 50.9572L110.8 58.8572L106.8 46.1572L117.5 38.2572H104.1L100 25.6572ZM156.3 25.6572L152.3 38.2572H138.8L149.8 46.1572L145.6 58.8572L156.3 50.9572L167.3 58.8572L163.1 46.1572L173.8 38.2572H160.6L156.3 25.6572ZM212.8 25.6572L208.6 38.2572H195.3L206.1 46.1572L202.1 58.8572L212.8 50.9572L223.6 58.8572L219.3 46.1572L230.3 38.2572H216.8L212.8 25.6572Z\" fill=\"white\"/>\n        </g>\n        <defs>\n        <clipPath id=\"clip0_301_131\">\n        <rect width=\"513\" height=\"342\" fill=\"white\" transform=\"translate(0 0.957031)\"/>\n        </clipPath>\n        </defs>\n        </svg>\n      </div>\n      <div @click=\"() => onSelect('ru')\" class=\"active:scale-95 transition-transform\"><svg class=\"max-w-[96px]\" width=\"513\" height=\"342\" viewBox=\"0 0 513 342\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <g clip-path=\"url(#clip0_301_429)\">\n        <path d=\"M0 -0.00292969V341.996H513V-0.00292969H0Z\" fill=\"white\"/>\n        <path d=\"M0 0H513V342.004H0V0Z\" fill=\"#0052B4\"/>\n        <path d=\"M0 0H513V113.997H0V0Z\" fill=\"white\"/>\n        <path d=\"M0 227.995H513V341.992H0V227.995Z\" fill=\"#D80027\"/>\n        </g>\n        <defs>\n        <clipPath id=\"clip0_301_429\">\n        <rect width=\"513\" height=\"342\" fill=\"white\"/>\n        </clipPath>\n        </defs>\n        </svg>\n        </div>\n    </div>\n  </div>\n</template>","import script from \"./HomeView.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./HomeView.vue?vue&type=script&setup=true&lang=ts\"\n\nconst __exports__ = script;\n\nexport default __exports__","<script setup lang=\"ts\">\n</script>\n<template>\n  <button @contextmenu.stop.prevent class=\"text-white transition-all select-none bg-gradient-to-r from-blue-500 via-blue-600 to-blue-700 hover:bg-gradient-to-br focus:ring-4 focus:outline-none focus:ring-blue-300 dark:focus:ring-blue-800 shadow-lg shadow-blue-500/50 dark:shadow-lg dark:shadow-blue-800/80 font-medium rounded-lg text-sm px-5 py-2.5 text-center me-2 mb-2\">\n    <slot></slot>\n  </button>\n</template>","import { render } from \"./ui-button.vue?vue&type=template&id=23246cc3\"\nconst script = {}\n\nimport exportComponent from \"../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.4.21_webpack@5.91.0/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<script setup lang=\"ts\">\n</script> \n\n<template>\n  <svg class=\"max-w-[24px] max-h-[24px]\" width=\"513\" height=\"343\" viewBox=\"0 0 513 343\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <g clip-path=\"url(#clip0_301_131)\">\n    <path d=\"M0 0.957031H513V342.957H0V0.957031Z\" fill=\"white\"/>\n    <path d=\"M0 0.957031H513V27.257H0V0.957031ZM0 53.557H513V79.857H0V53.557ZM0 106.157H513V132.457H0V106.157ZM0 158.757H513V185.057H0V158.757ZM0 211.457H513V237.757H0V211.457ZM0 264.057H513V290.357H0V264.057ZM0 316.657H513V342.957H0V316.657Z\" fill=\"#D80027\"/>\n    <path d=\"M0 0.957031H256.5V185.057H0V0.957031Z\" fill=\"#2E52B2\"/>\n    <path d=\"M47.8002 139.857L43.8002 127.057L39.4002 139.857H26.2002L36.9002 147.557L32.9002 160.357L43.8002 152.457L54.4002 160.357L50.3002 147.557L61.2002 139.857H47.8002ZM104.1 139.857L100 127.057L95.8002 139.857H82.6002L93.3002 147.557L89.3002 160.357L100 152.457L110.8 160.357L106.8 147.557L117.5 139.857H104.1ZM160.6 139.857L156.3 127.057L152.3 139.857H138.8L149.8 147.557L145.6 160.357L156.3 152.457L167.3 160.357L163.1 147.557L173.8 139.857H160.6ZM216.8 139.857L212.8 127.057L208.6 139.857H195.3L206.1 147.557L202.1 160.357L212.8 152.457L223.6 160.357L219.3 147.557L230.3 139.857H216.8ZM100 76.2572L95.8002 89.0572H82.6002L93.3002 96.9572L89.3002 109.557L100 101.757L110.8 109.557L106.8 96.9572L117.5 89.0572H104.1L100 76.2572ZM43.8002 76.2572L39.4002 89.0572H26.2002L36.9002 96.9572L32.9002 109.557L43.8002 101.757L54.4002 109.557L50.3002 96.9572L61.2002 89.0572H47.8002L43.8002 76.2572ZM156.3 76.2572L152.3 89.0572H138.8L149.8 96.9572L145.6 109.557L156.3 101.757L167.3 109.557L163.1 96.9572L173.8 89.0572H160.6L156.3 76.2572ZM212.8 76.2572L208.6 89.0572H195.3L206.1 96.9572L202.1 109.557L212.8 101.757L223.6 109.557L219.3 96.9572L230.3 89.0572H216.8L212.8 76.2572ZM43.8002 25.6572L39.4002 38.2572H26.2002L36.9002 46.1572L32.9002 58.8572L43.8002 50.9572L54.4002 58.8572L50.3002 46.1572L61.2002 38.2572H47.8002L43.8002 25.6572ZM100 25.6572L95.8002 38.2572H82.6002L93.3002 46.1572L89.3002 58.8572L100 50.9572L110.8 58.8572L106.8 46.1572L117.5 38.2572H104.1L100 25.6572ZM156.3 25.6572L152.3 38.2572H138.8L149.8 46.1572L145.6 58.8572L156.3 50.9572L167.3 58.8572L163.1 46.1572L173.8 38.2572H160.6L156.3 25.6572ZM212.8 25.6572L208.6 38.2572H195.3L206.1 46.1572L202.1 58.8572L212.8 50.9572L223.6 58.8572L219.3 46.1572L230.3 38.2572H216.8L212.8 25.6572Z\" fill=\"white\"/>\n    </g>\n    <defs>\n    <clipPath id=\"clip0_301_131\">\n    <rect width=\"513\" height=\"342\" fill=\"white\" transform=\"translate(0 0.957031)\"/>\n    </clipPath>\n    </defs>\n    </svg>\n</template>","import { render } from \"./icon-en.vue?vue&type=template&id=461e5f28\"\nconst script = {}\n\nimport exportComponent from \"../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.4.21_webpack@5.91.0/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<script setup lang=\"ts\">\n</script> \n\n<template>\n  <svg class=\"max-w-[24px] max-h-[24px]\" width=\"513\" height=\"342\" viewBox=\"0 0 513 342\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <g clip-path=\"url(#clip0_301_429)\">\n    <path d=\"M0 -0.00292969V341.996H513V-0.00292969H0Z\" fill=\"white\"/>\n    <path d=\"M0 0H513V342.004H0V0Z\" fill=\"#0052B4\"/>\n    <path d=\"M0 0H513V113.997H0V0Z\" fill=\"white\"/>\n    <path d=\"M0 227.995H513V341.992H0V227.995Z\" fill=\"#D80027\"/>\n    </g>\n    <defs>\n    <clipPath id=\"clip0_301_429\">\n    <rect width=\"513\" height=\"342\" fill=\"white\"/>\n    </clipPath>\n    </defs>\n    </svg>\n</template>","import { render } from \"./icon-ru.vue?vue&type=template&id=4ec2965c\"\nconst script = {}\n\nimport exportComponent from \"../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.4.21_webpack@5.91.0/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<script setup lang=\"ts\">\n</script> \n\n<template>\n  <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <rect x=\"8\" y=\"1\" width=\"8\" height=\"14\" rx=\"4\" stroke=\"currentColor\" stroke-width=\"1.8\"/>\n    <path d=\"M19.5 10.5V11C19.5 15.1421 16.1421 18.5 12 18.5V18.5M4.5 10.5V11C4.5 15.1421 7.85786 18.5 12 18.5V18.5M12 18.5V22M12 22H16M12 22H8\" stroke=\"currentColor\" stroke-width=\"1.8\" stroke-linecap=\"round\"/>\n  </svg>   \n</template>","import { render } from \"./icon-mic.vue?vue&type=template&id=7cc53511\"\nconst script = {}\n\nimport exportComponent from \"../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.4.21_webpack@5.91.0/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<script setup lang=\"ts\">\n</script> \n\n<template>\n  <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <rect x=\"6\" y=\"6\" width=\"12\" height=\"12\" rx=\"2\" fill=\"currentColor\"/>\n  </svg>\n</template>","import { render } from \"./icon-recording.vue?vue&type=template&id=2326af11\"\nconst script = {}\n\nimport exportComponent from \"../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.4.21_webpack@5.91.0/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { nextTick, ref, Ref } from 'vue';\nimport useSystem from './useSystem';\n\nconst SERVER_URL = process.env.VUE_APP_HEYGET_SERVER_URL;\nlet apiKey = process.env.VUE_APP_HEYGEN_API_KEY;\n\ntype ICEServer = {\n  urls: string[];\n  username: string;\n  credential: string;\n};\ntype SessionInfo = {\n  ice_servers2: ICEServer[];\n  sdp: any;\n  session_id: string;\n};\n\n\nconst {errorToast, hideLoading} = useSystem()\nconst shouldRenderCanvas =ref(true)\nconst isError = ref(false);\nconst state = ref<'started' | 'stopped'>('stopped')\nconst errorMessage = ref('');\nconst mediaCanPlay = ref(false);\nconst isLoading = ref(false);\nconst isGenerating = ref(false);\nconst sessionInfo = ref<SessionInfo>();\nconst peerConnection = ref<RTCPeerConnection>();\nconst iceConnectionState = ref<RTCIceConnectionState>();\n\nexport const useAvatar = (incomingVideoRef: Ref<HTMLVideoElement | undefined>, incomingCanvasRef: Ref<HTMLCanvasElement | undefined>, lang: 'ru' | 'en') => {\n  if (lang === 'ru') {\n    apiKey = process.env.VUE_APP_HEYGEN_API_KEY_RU\n  } else {\n    apiKey = process.env.VUE_APP_HEYGEN_API_KEY\n  }\n  const start =  async() => {\n    isLoading.value = true;\n    shouldRenderCanvas.value = true\n      await checkSessionsAndCloseIfExists()\n      // create new session\n      await new Promise((res, rej) => {\n        setTimeout(async () => {\n          await createNewSession(incomingVideoRef, incomingCanvasRef)\n          res(1)\n        },300)\n      })\n      await new Promise((res, rej) => {\n        setTimeout(async () => {\n          await startAndDisplaySession()\n          res(1)\n        }, 300)\n      })\n      isLoading.value = false\n      state.value = 'started'\n  }\n\n  return {\n    isError,\n    isGenerating,\n    state,\n    errorMessage,\n    mediaCanPlay,\n    isLoading,\n    sessionInfo,\n    peerConnection,\n    renderCanvas,\n    closeConnection: closeConnectionHandler,\n    iceConnectionState,\n    start,\n    generateVoice: async (text: string) => {\n      if (sessionInfo.value) {\n        isGenerating.value = true\n        await repeat(sessionInfo.value?.session_id, text)\n      }\n    }\n  };\n};\n\nconst createNewSession = async (videoRef: Ref<HTMLVideoElement | undefined>, canvasRef: Ref<HTMLCanvasElement | undefined>) => {\n  const avatarID = process.env.VUE_APP_HEYGEN_AVATAR_ID || '';\n  const voiceID = process.env.VUE_APP_HEYGEN_VOICE_ID || '';\n\n  // call the new interface to get the server's offer SDP and ICE server to create a new RTCPeerConnection\n  sessionInfo.value = await newSession('low', avatarID, voiceID);\n  if (sessionInfo.value) {\n    const { sdp: serverSdp, ice_servers2: iceServers } = sessionInfo.value;\n\n    // Create a new RTCPeerConnection\n    peerConnection.value = new RTCPeerConnection({ iceServers: iceServers });\n\n    // When audio and video streams are received, display them in the video element\n    // RASUL: instead of displaying in element we save it to the ref, then return it from composable\n    peerConnection.value.ontrack = (event) => {\n      console.log('Received the track');\n      if (event.track.kind === 'audio' || event.track.kind === 'video') {\n        if (videoRef.value) {\n          videoRef.value.srcObject = event.streams[0];\n\n          if (videoRef.value.paused)  {\n            videoRef.value.play().then(_ => {}).catch(() => {})\n          }\n          if (shouldRenderCanvas.value) {\n            shouldRenderCanvas.value = false\n            setTimeout(() => {\n              renderCanvas(canvasRef, videoRef)\n            }, 500)\n          }\n        }\n      }\n    };\n    // When receiving a message, save it in the status ref\n    peerConnection.value.ondatachannel = (event) => {\n      const dataChannel = event.channel;\n      dataChannel.onmessage = (event) => {\n        // console.log('Recieved message:', event.data);\n        setTimeout(() => {\n          isGenerating.value = false\n        }, 400)\n      };\n    };\n    // Set server's SDP as remote description\n    const remoteDescription = new RTCSessionDescription(serverSdp);\n    await peerConnection.value.setRemoteDescription(remoteDescription);\n  }\n};\n\nconst startAndDisplaySession = async () => {\n  if (!sessionInfo.value || !peerConnection.value) return;\n\n  // Create and set local SDP description\n  const localDescription = await peerConnection.value.createAnswer();\n  await peerConnection.value.setLocalDescription(localDescription);\n\n  // When ICE candidate is available, send to the server\n  peerConnection.value.onicecandidate = ({ candidate }) => {\n    console.log('Received ICE candidate:', candidate);\n    setTimeout(() => {\n      if (candidate && sessionInfo.value) {\n        handleICE(sessionInfo.value.session_id, candidate.toJSON());\n      }\n    }, 300);\n  };\n\n  // When ICE connection state changes, display the new state\n  peerConnection.value.oniceconnectionstatechange = (event) => {\n    iceConnectionState.value = peerConnection.value?.iceConnectionState;\n  };\n\n  // Start session\n  await startSession(sessionInfo.value.session_id, localDescription);\n  console.log('Session Started Successfully');\n};\n\nasync function newSession(\n  quality: 'high' | 'medium' | 'low',\n  avatar_name: string,\n  voice_id: string,\n) {\n  try {\n    const response = await fetch(`${SERVER_URL}/v1/streaming.new`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'X-Api-Key': apiKey,\n      },\n      body: JSON.stringify({\n        quality,\n        avatar_name,\n        voice: {\n          voice_id: voice_id,\n        },\n      }),\n    });\n    if (response.status > 399) {\n      throw new Error('Error: Creating new session failed!')\n    }\n    const data = await response.json();\n    console.log(data.data);\n    return data.data;\n  } catch(err) {\n    console.log(err, 'err')\n    state.value = 'stopped'\n    isLoading.value = false\n    errorToast.value.showToast(err.message)\n    throw new Error('Hello')\n  }\n}\n// submit the ICE candidate\nasync function handleICE(session_id: string, candidate: RTCIceCandidateInit) {\n  const response = await fetch(`${SERVER_URL}/v1/streaming.ice`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n      'X-Api-Key': apiKey,\n    },\n    body: JSON.stringify({ session_id, candidate }),\n  });\n  if (response.status === 500) {\n    console.error('Server error');\n    isError.value = true;\n    errorMessage.value = 'Server Error. Please ask the staff if the service has been turned on';\n    // updateStatus(\n    //   statusElement,\n    //   'Server Error. Please ask the staff if the service has been turned on',\n    // );\n    throw new Error('Server error');\n  } else {\n    const data = await response.json();\n    return data;\n  }\n}\n// start the session\nasync function startSession(session_id: string, sdp: any) {\n  const response = await fetch(`${SERVER_URL}/v1/streaming.start`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n      'X-Api-Key': apiKey,\n    },\n    body: JSON.stringify({ session_id, sdp }),\n  });\n  if (response.status === 500) {\n    console.error('Server error');\n    isError.value = true;\n    errorMessage.value = 'Server Error. Please ask the staff if the service has been turned on';\n\n    // updateStatus(\n    //   statusElement,\n    //   'Server Error. Please ask the staff if the service has been turned on',\n    // );\n    throw new Error('Server error');\n  } else {\n    const data = await response.json();\n    return data.data;\n  }\n}\n\nasync function closeConnectionHandler() {\n  if (!sessionInfo.value || !peerConnection.value) {\n    // already closed\n    return;\n  }\n  renderID.value++\n  mediaCanPlay.value = false;\n  \n  console.log('closing connection...');\n  try {\n    // Close local connection\n    peerConnection.value.close();\n    // Call the close interface\n    const resp = await stopSession(sessionInfo.value.session_id);\n    state.value = 'stopped'\n    console.log('conneciton closed');\n    console.log(resp);\n  } catch (err) {\n    console.error('Failed to close the connection:', err);\n  }\n}\n\nconst checkSessionsAndCloseIfExists = async () => {\n  const data = await getSessionsList()\n  const sessionsData = data.data\n  if (sessionsData.sessions && sessionsData.sessions.length > 0) {\n    sessionsData.sessions.forEach(async (s: any) => {\n      await stopSession(s.session_id)\n    })\n  }\n}\n\nasync function getSessionsList () {\n  const options = {\n    method: 'GET',\n    headers: {\n      accept: 'application/json',\n      'x-api-key': apiKey\n    }\n  };\n  \n  const response = await fetch(`${SERVER_URL}/v1/streaming.list`, options).then(response => response.json())\n  return response\n}\n\n// stop session\nasync function stopSession(session_id: string) {\n  try {\n    const response = await fetch(`${SERVER_URL}/v1/streaming.stop`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'X-Api-Key': apiKey,\n      },\n      body: JSON.stringify({ session_id }),\n    });\n    if (response.status > 399) {\n      throw new Error(`Error: Stopping current session failed`)\n    }\n    const data = await response.json();\n    return data.data;\n  } catch (err) {\n    console.log(err, 'err')\n    state.value = 'stopped'\n    isLoading.value = false\n    errorToast.value.showToast(err.message)\n  }\n}\nasync function repeat(session_id: string, text: string) {\n  const response = await fetch(`${SERVER_URL}/v1/streaming.task`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n      'X-Api-Key': apiKey,\n    },\n    body: JSON.stringify({ session_id, text }),\n  });\n  if (response.status === 500) {\n    console.error('Server error');\n    // updateStatus(\n    //   statusElement,\n    //   'Server Error. Please ask the staff if the service has been turned on',\n    // );\n    throw new Error('Server error');\n  } else {\n    const data = await response.json();\n    return data.data;\n  }\n}\n\nlet renderID = ref(0)\nconst renderCanvas = (canvasRef: Ref<HTMLCanvasElement | undefined>, videoRef: Ref<HTMLVideoElement | undefined>) => {\n  // init renderID\n  const curRenderID = Math.trunc(Math.random() * 1000000000)\n  renderID.value = curRenderID\n  // get canvas context\n  const ctx = canvasRef.value.getContext('2d', { willReadFrequently: true });\n\n\n  function process_frame () {\n    if (curRenderID !== renderID.value) {\n      return\n    }\n    // If streaming is not\n    if (!videoRef.value.videoHeight || !videoRef.value.videoWidth) {\n      setTimeout(() => {\n        process_frame()\n      }, 200)\n      return\n    }\n\n    // set dimestions\n    canvasRef.value.width = videoRef.value.videoWidth;\n    canvasRef.value.height = videoRef.value.videoHeight;\n    \n    // drawing frame\n    ctx.drawImage(videoRef.value, 0, 0, canvasRef.value.width, canvasRef.value.height)\n    ctx.getContextAttributes().willReadFrequently = true;\n    \n    const imageData = ctx.getImageData(0, 0, canvasRef.value.width, canvasRef.value.height);\n    const data = imageData.data;\n\n    for (let i = 0; i < data.length; i += 4) {\n      const red = data[i];\n      const green = data[i + 1];\n      const blue = data[i + 2];\n\n      // You can implement your own logic here\n      if (isCloseToGreen([red, green, blue])) {\n        // if (isCloseToGray([red, green, blue])) {\n        data[i + 3] = 0;\n      }\n    }\n\n    ctx.putImageData(imageData, 0, 0);\n    requestAnimationFrame(process_frame);\n  }\n\n  process_frame();\n}\nfunction isCloseToGreen(color) {\n  const [red, green, blue] = color;\n  return green > 90 && red < 90 && blue < 90;\n}\n","import { Ref, computed, ref } from 'vue';\n\n\nexport default function useQueue<T>(initialValue: T[] = []) {\n  const queue = ref<T[]>(initialValue) as Ref<T[]>\n\n  const add = (el: T) => {\n    queue.value = [...queue.value, el]\n  }\n\n\n  const remove = () => {\n    const [first, ...q] = queue.value\n    queue.value = q\n\n    return first;\n  }\n\n  const clear = () => {\n    queue.value = []\n  }\n\n  return {\n    add,\n    remove,\n    clear,\n    first: computed<T>(() => queue.value[0]),\n    last: computed<T>(() => queue.value[queue.value.length - 1]),\n    size: computed(() => queue.value.length),\n    queue,\n  };\n}","import { onBeforeUnmount, onMounted, ref, watch } from \"vue\";\nimport useQueue from \"./useQueue\";\n\nlet microphone = ref<MediaRecorder>();\nlet microphoneIsOpen = ref(false);\nconst {\n  add: enqueueBlob,\n  remove: removeBlob,\n  first: firstBlob,\n  size: queueSize,\n  queue,\n} = useQueue<Blob>();\n\nconst isRecording = ref(false)\n\nexport default function useMicrophone() {\n  const eventer = () =>\n    document.visibilityState !== \"visible\" && stopMicrophone(); \n  onMounted(() => {\n    window.addEventListener(\"visibilitychange\", eventer);\n  });\n  onBeforeUnmount(() => {\n    window.removeEventListener(\"visibilitychange\", eventer);\n    if (microphone.value) microphone.value.ondataavailable = null;\n  });\n\n  watch(microphone, (val) => {\n    if (val) {\n      val.ondataavailable = (e) => {\n        if (microphoneIsOpen.value) {\n          enqueueBlob(e.data);\n        }\n      };\n    }\n  });\n\n  setupMicrophone();\n\n  return {\n    microphone,\n    microphoneIsOpen,\n    startMicrophone,\n    stopMicrophone,\n    queue,\n    isRecording,\n    enqueueBlob,\n    removeBlob,\n    firstBlob,\n    queueSize,\n  }\n}\n\nconst setupMicrophone = async () => {\n  const userMedia = await navigator.mediaDevices.getUserMedia({\n    audio: {\n      noiseSuppression: true,\n      echoCancellation: true,\n    },\n  });\n\n  microphone.value = new MediaRecorder(userMedia);\n};\n\nconst stopMicrophone = () => {\n  if (!microphone.value) return\n\n  if (microphone.value.state === \"recording\") {\n    isRecording.value = false\n    const waiting = setTimeout(() => {\n      clearTimeout(waiting);\n      microphone.value.pause();\n      microphoneIsOpen.value = false;\n    }, 1500);\n  }\n};\n\nconst startMicrophone = () => {\n  if (!microphone.value) return\n  if (microphone.value.state === \"paused\") {\n    microphone.value.resume();\n  } else if (microphone.value.state !== 'recording') {\n    microphone.value.start(250);\n  }\n  microphoneIsOpen.value = true\n  isRecording.value = true\n};\n","import {\n  CreateProjectKeyResponse,\n  LiveClient,\n  LiveSchema,\n  LiveTranscriptionEvents,\n  LiveTranscriptionEvent,LiveConnectionState,\n  SpeakSchema,\n} from \"@deepgram/sdk\";\nimport { onBeforeUnmount, ref, watch } from \"vue\";\nimport useQueue from \"./useQueue\";\n/**\n * TTS Voice Options\n */\nconst voices: {\n  [key: string]: {\n    name: string;\n    avatar: string;\n    language: string;\n    accent: string;\n  };\n} = {\n  \"aura-asteria-en\": {\n    name: \"Asteria\",\n    avatar: \"/aura-asteria-en.svg\",\n    language: \"English\",\n    accent: \"US\",\n  },\n};\nconst voiceMap = (model: string) => {\n  return voices[model];\n};\nconst getApiKey = async (): Promise<string> => {\n  // const result: CreateProjectKeyResponse = await (\n  //   await fetch(\"/api/authenticate\", { cache: \"no-store\" })\n  // ).json();\n  return process.env.VUE_APP_DEEPGRAM_API\n\n};\n\nconst connection = ref<LiveClient>();\nconst isConnecting = ref(false);\nconst connectionIsReady = ref(false);\nlet transcript = ref({\n  isFinal: true,\n  text: \"\"\n})\n\nconst connect = async (lang: 'ru' | 'en') => {\n  if (!connection.value && !isConnecting.value) {\n    isConnecting.value = true;\n    \n    connection.value = new LiveClient(\n      await getApiKey(),\n      {\n        \n      },\n      {\n        language: lang,\n        model: \"nova-2\",\n        interim_results: true,\n        smart_format: true,\n        endpointing: 350,\n        utterance_end_ms: 1000,\n        filler_words: true,\n      }\n    );\n    isConnecting.value = false\n  }\n};\n\nconst keepAlive = () => {\n  let interval;\n  if (connection.value && connectionIsReady) {\n    interval = setInterval(() => {\n      if (connection.value && connection.value.getReadyState() !== LiveConnectionState.OPEN) {\n        clearInterval(interval)\n      } else {\n        if (connection.value) {\n          connection.value.keepAlive()\n        }\n      }\n    }, 10000)\n  } else {\n    if (interval) {\n      clearInterval(interval)\n    }\n  }\n}\n\nconst setupListeners = () => {\n  if (connection.value && connection.value.getReadyState() !== undefined) {\n\n    connection.value.addListener(LiveTranscriptionEvents.Open, () => {\n      connectionIsReady.value = true\n    })\n    \n    connection.value.addListener(LiveTranscriptionEvents.Close, () => {\n      // toast(\"The connection to Deepgram closed, we'll attempt to reconnect.\");\n      clear()\n    })\n\n    connection.value.addListener(LiveTranscriptionEvents.Error, () => {\n      // toast(\n      //   \"An unknown error occured. We'll attempt to reconnect to Deepgram.\"\n      // );\n      clear()\n    })\n    connection.value.addListener(LiveTranscriptionEvents.Metadata, (data) => {\n      console.log(data, 'Metadata')\n    })\n    connection.value.addListener(LiveTranscriptionEvents.Transcript, (data: LiveTranscriptionEvent) => {\n      // console.log(data, 'Transcript')\n      if (data.channel.alternatives[0].transcript) {\n        transcript.value = {\n          isFinal: data.is_final,\n          text: data.channel.alternatives[0].transcript\n        }\n      }\n    })\n  }\n}\n\nconst clear = () => {\n  if (connection.value) {\n    connectionIsReady.value = false\n    connection.value.removeAllListeners()\n    connection.value = undefined\n  }\n}\n\nexport default function useDeepgram(lang: 'ru' | 'en') {\n  const start = async () => {\n    await connect(lang)\n    setupListeners()\n  }\n  start()\n\n  watch(connection, () => {\n    keepAlive()\n  })\n  onBeforeUnmount(()=> {\n    clear()\n  })\n\n  return {\n    connection,\n    isConnecting,\n    transcript,\n    connectionIsReady\n  }\n}\n","import { computed, ref } from \"vue\";\n\nconst API_KEY = process.env.VUE_APP_OPENAI_API_KEY;\nconst textArray = ref<string[]>([])\ntype Message = {\n  role: \"user\" | \"assistant\" | \"system\";\n  content: string;\n};\nconst messages = ref<Message[]>([]);\n\nconst gtpIsStreaming = ref(false)\nconst currentMessage = ref(\"\")\nconst currentWord = ref(\"\")\nexport default function useOpenAI() {\n\n  return {\n    currentMessage,\n    textArr: textArray,\n    arrSize: computed(() => textArray.value.length),\n    currentWord,\n    gtpIsStreaming,\n    messages,\n    sendMessage\n  };\n}\n\nconst sendCompetions = async () => {\n  const url = 'https://c1c9-62-84-32-231.ngrok-free.app/api/completions/'\n  return await fetch(url, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify(messages.value),\n  }).then(r => r.json());\n};\n\nconst sendMessage = async (text: string) => {\n  messages.value.push({\n    role: \"user\",\n    content: text,\n  });\n  gtpIsStreaming.value = true\n  const response_message = await sendCompetions();\n  gtpIsStreaming.value = false\n  currentMessage.value = response_message\n  messages.value.push({\n    role: 'assistant',\n    content: response_message\n  })\n  // const reader = stream.body.getReader();\n  // const decoder = new TextDecoder(\"utf-8\");\n\n  // while (true) {\n  //   const { done, value } = await reader.read();\n\n  //   if (done) break;\n  //   // Massage and parse the chunk of data\n  //   const chunk = decoder.decode(value);\n  //    // Clean up the data\n  //   const lines = chunk\n  //   .split(\"\\n\")\n  //   .map((line) => line.replace(\"data: \", \"\"))\n  //   .filter((line) => line.length > 0)\n  //   .filter((line) => line !== \"[DONE]\")\n  //   .map((line) => {\n  //     try {\n  //       return JSON.parse(line)\n  //     } catch {\n  //       console.log(line)\n  //       return \"\"\n  //     }\n  //   });\n  \n  //   for (const parsedLine of lines) {\n  //     const { choices } = parsedLine;\n  //     if (choices && choices.length) {\n  //       const { delta, finish_reason } = choices[0];\n  //       const { content } = delta;\n        \n  //       if (content) {\n  //         // currentWord.value = content\n  //         currentMessage.value += content\n  \n  //         textArray.value.push(content)\n  //       }\n  //       if (finish_reason) {\n  //         gtpIsStreaming.value = false\n  //         messages.value.push({\n  //           role: 'assistant',\n  //           content: currentMessage.value\n  //         })\n  //         // currentMessage.value = \"\"\n  //       }\n  //     }\n  //   }\n  // }\n}\n","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, unref as _unref, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createElementBlock as _createElementBlock, normalizeClass as _normalizeClass, resolveDirective as _resolveDirective, withCtx as _withCtx, withDirectives as _withDirectives, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode } from \"vue\"\n\nconst _hoisted_1 = { class: \"home min-h-[100vh] flex flex-col pt-[20vh] items-center bg-blue-900 py-4 px-4\" }\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"div\", { class: \"absolute inset-x-0 m-auto h-80 max-w-lg bg-gradient-to-tr from-indigo-400 via-teal-900 to-[#C084FC] blur-[118px]\" }, null, -1)\nconst _hoisted_3 = { class: \"absolute top-4 flex w-full z-[2] flex-col items-center space-y-2\" }\nconst _hoisted_4 = { class: \"flex items-start sm:flex-wrap sm:justify-center\" }\nconst _hoisted_5 = {\n  key: 0,\n  class: \"my-4 flex space-x-2 justify-center items-center\"\n}\nconst _hoisted_6 = /*#__PURE__*/_createElementVNode(\"div\", { class: \"h-2 w-2 bg-white rounded-full animate-bounce [animation-delay:-0.3s]\" }, null, -1)\nconst _hoisted_7 = /*#__PURE__*/_createElementVNode(\"div\", { class: \"h-2 w-2 bg-white rounded-full animate-bounce [animation-delay:-0.15s]\" }, null, -1)\nconst _hoisted_8 = /*#__PURE__*/_createElementVNode(\"div\", { class: \"h-2 w-2 bg-white rounded-full animate-bounce\" }, null, -1)\nconst _hoisted_9 = [\n  _hoisted_6,\n  _hoisted_7,\n  _hoisted_8\n]\nconst _hoisted_10 = { class: \"flex items-center space-x-2\" }\nconst _hoisted_11 = {\n  key: 0,\n  initial: {opacity: 0},\n  enter: {opacity: 1},\n  delay: 20,\n  class: \"text-white mx-auto sm:text-[14px] w-[50%] sm:w-full z-[2]\"\n}\nconst _hoisted_12 = /*#__PURE__*/_createElementVNode(\"span\", { class: \"font-bold text-red-300\" }, \"user:\", -1)\nconst _hoisted_13 = {\n  key: 1,\n  initial: {opacity: 0},\n  enter: {opacity: 1},\n  delay: 20,\n  class: \"text-white mx-auto mt-2 sm:text-[14px] w-[50%] sm:w-full z-[2] text-left\"\n}\nconst _hoisted_14 = /*#__PURE__*/_createElementVNode(\"span\", { class: \"font-bold text-purple-300\" }, \"avatar:\", -1)\nconst _hoisted_15 = {\n  key: 1,\n  class: \"flex flex-wrap justify-center\"\n}\nconst _hoisted_16 = { class: \"bg-slate-200 font-mono p-4 w-[400px] min-h-[200px] mt-4\" }\nconst _hoisted_17 = /*#__PURE__*/_createElementVNode(\"h1\", { class: \"font-bold text-[20px]\" }, \"OpenAI\", -1)\nconst _hoisted_18 = { class: \"bg-slate-200 font-mono p-4 w-[400px] min-h-[200px] mt-4\" }\nconst _hoisted_19 = /*#__PURE__*/_createElementVNode(\"h1\", { class: \"font-bold text-[20px]\" }, \"HeyGen RTC connection\", -1)\nconst _hoisted_20 = { class: \"bg-slate-200 font-mono p-4 w-[400px] min-h-[200px] mt-4\" }\nconst _hoisted_21 = /*#__PURE__*/_createElementVNode(\"h1\", { class: \"font-bold text-[20px]\" }, \"Microphone Info\", -1)\nconst _hoisted_22 = { class: \"bg-slate-200 font-mono p-4 w-[400px] min-h-[200px] mt-4\" }\nconst _hoisted_23 = /*#__PURE__*/_createElementVNode(\"h1\", { class: \"font-bold text-[20px]\" }, \"Deepgram API\", -1)\n\nimport { onBeforeUnmount, onMounted, ref, watch } from \"vue\";\nimport UIButton from \"@/ui/ui-button.vue\";\nimport IconEn from '@/components/icon-en.vue'\nimport IconRu from '@/components/icon-ru.vue'\nimport IconMic from '@/components/icon-mic.vue'\nimport IconRecording from '@/components/icon-recording.vue'\nimport UISpinner from \"@/ui/ui-spinner.vue\";\nimport { useAvatar } from \"@/composables/useAvatar\";\nimport useMicroPhone from \"@/composables/useMicrophone\";\nimport useDeepgram from \"@/composables/useDeepgram\";\nimport useOpenAI from \"@/composables/useOpenAI\";\nimport { useRouter } from \"vue-router\";\nimport useSystem from \"@/composables/useSystem\";\nimport { onClickOutside } from '@vueuse/core'\n\nconst ll = ''\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'AvatarView',\n  setup(__props) {\n\nconst router = useRouter()\nlet isProcessing = ref(false);\nlet userText = ref(ll);\nlet textToSend = ref<string[]>([])\nlet prevText = ref(ll);\nlet avatarText = ref(ll);\nlet lang = localStorage.getItem('lang') as 'en' | 'ru' | undefined\nconst {showLoading, hideLoading} = useSystem()\nconst {\n  sendMessage,\n  messages,\n  currentMessage,\n  gtpIsStreaming,\n  currentWord,\n} = useOpenAI();\nconst { connection, isConnecting, transcript, connectionIsReady } =\n  useDeepgram(lang || \"en\");\nconst {\n  isRecording,\n  microphoneIsOpen,\n  queue,\n  microphone,\n  firstBlob,\n  removeBlob,\n  queueSize,\n  startMicrophone,\n  stopMicrophone,\n} = useMicroPhone();\nconst videoRef = ref<HTMLVideoElement>();\nconst canvasRef = ref<HTMLCanvasElement>();\nconst recButtonRef = ref<HTMLButtonElement>()\nonClickOutside(recButtonRef, () => {\n  if (isRecording.value) {\n    onStopRecording()\n  }\n})\nconst {\n  isLoading,\n  isGenerating,\n  iceConnectionState,\n  closeConnection,\n  state,\n  isError,\n  errorMessage,\n  generateVoice,\n  start,\n} = useAvatar(videoRef, canvasRef, lang);\nlet text = ref(\" ,  ?\");\nconst enWaitingWords = [\n  \"Give me a second to gather my thoughts.\",\n  \"Hold on while I think this through.\",\n  \"Just a moment, Im pondering.\",\n  \"Let me mull this over.\",\n  \"I need a quick minute to reflect.\",\n  \"Allow me some time to consider.\",\n  \"Bear with me as I contemplate.\",\n  \"I just need a brief moment to deliberate.\",\n  \"Hang tight, Im processing.\",\n  \"Can you give me a short pause to think?\"\n];\nconst ruWaitingWords = [',   ', '  .' ,' ... !' , ',  ', ' ...', '  ... ']\n\nwatch(currentMessage, (v) => {\n  if (v) avatarText.value = v\n})\nonMounted(async () => {\n  showLoading()\n  await start()\n  hideLoading()\n})\nonBeforeUnmount(() => {\n  closeConnection()\n})\n\nwatch([currentMessage, gtpIsStreaming], ([value]) => {\n  \n  if (value && !gtpIsStreaming.value) {\n    console.log(value)\n    if (value.length > 2000) {\n      const fn = async () => {  \n        const arr = value.split(' ')\n        const halfIndex = Math.ceil(arr.length / 2);\n\n        //\n        let firstHalf = arr.slice(0, halfIndex)\n        const firstHalfIndex = Math.ceil(firstHalf.length / 2)\n        let firstHalfFirst = firstHalf.slice(0, firstHalfIndex).join(' ')\n        let firstHalfSecond = firstHalf.slice(firstHalfIndex).join('')\n        ///\n        console.log('sending firsthalffirst: ' + firstHalf)\n        await generateVoice(firstHalfFirst)\n        await new Promise((res) => {\n          setTimeout(() => {\n            generateVoice(firstHalfSecond).then(() => {\n              res(0)\n            })\n          }, 2000)\n        })\n        \n        //\n        let secondHalf = arr.slice(halfIndex);\n        const secondHalfHalfIndex = Math.ceil(secondHalf.length / 2)\n        let secondHalfFirst = secondHalf.slice(0, secondHalfHalfIndex).join(' ')\n        let secondHalfSecond = secondHalf.slice(secondHalfHalfIndex).join(' ')\n        //\n        await new Promise((res) => {\n          setTimeout(() => {\n            generateVoice(secondHalfFirst).then(() => {\n              res(0)\n            })\n          }, 2000)\n        })\n        await new Promise((res) => {\n          setTimeout(() => {\n            generateVoice(secondHalfSecond).then(() => {\n              res(0)\n            })\n          }, 2000)\n        })\n      }\n      fn()\n    }\n    if (value.length > 200 && value.length < 2000) {\n      console.log (`${value} is longer than 100`)\n      console.log ('split it to 2')\n      const fn = async () => {  \n        const arr = value.split(' ')\n        const halfIndex = Math.ceil(arr.length / 2);\n        let firstHalf = arr.slice(0, halfIndex).join(' ');\n        console.log('sending first: ' + firstHalf)\n        await generateVoice(firstHalf)\n        let secondHalf = arr.slice(halfIndex).join(' ');\n        setTimeout(() => {\n          console.log('sending second:' + secondHalf)\n          generateVoice(secondHalf)\n        }, 2000)\n      }\n      \n      fn()\n    } else if (value.length < 200){\n      console.log('sending:', value)\n      generateVoice(value);\n    }\n    avatarText.value = value;\n    currentMessage.value = \"\";\n  }\n});\n\n\nconst processQueue = () => {\n  if (queueSize.value > 0 && !isProcessing.value) {\n    isProcessing.value = true;\n\n    if (connectionIsReady.value) {\n      const nextBlob = firstBlob.value;\n\n      if (nextBlob && nextBlob.size > 0) {\n        connection.value.send(nextBlob);\n      }\n      removeBlob();\n    }\n    // timeout?\n    isProcessing.value = false;\n  }\n};\n\nwatch(queueSize, () => {\n  processQueue();\n});\n\nwatch(transcript, (val) => {\n  // call openAI\n  userText.value = val.text;\n  if (val.isFinal && !gtpIsStreaming.value) {\n    prevText.value = val.text;\n    textToSend.value.push(val.text)\n    // sendMessage(val.text);\n  }\n});\n\n\nconst onStopRecording = () => {\n  console.log('run')\n  setTimeout(() => {\n    stopMicrophone();\n    if (textToSend.value.length) {\n      const finalText =textToSend.value.join(' ')\n      setTimeout(() => {\n        userText.value = finalText\n      }, 400)\n      console.log(finalText)\n      sendMessage(finalText)\n      textToSend.value = []\n    } else if (!transcript.value.isFinal && transcript.value.text) {\n      sendMessage(transcript.value.text)\n      console.log('this case')\n    }\n    if (lang === 'en') {\n      const random = enWaitingWords[Math.floor(Math.random() * enWaitingWords.length)]\n      generateVoice(random)\n    } else {\n      const random = ruWaitingWords[Math.floor(Math.random() * ruWaitingWords.length)]\n      generateVoice(random)\n    }\n  }, 1000)\n};\nconst test = (e) => {\n  console.log(e)\n}\n\nreturn (_ctx: any,_cache: any) => {\n  const _directive_touch = _resolveDirective(\"touch\")!\n  const _directive_motion = _resolveDirective(\"motion\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _hoisted_2,\n    _createElementVNode(\"div\", _hoisted_3, [\n      _createElementVNode(\"div\", {\n        onClick: _cache[0] || (_cache[0] = ($event: any) => (_unref(router).push('/'))),\n        class: \"absolute right-4 top-2\"\n      }, [\n        (_unref(lang) === 'ru')\n          ? (_openBlock(), _createBlock(IconRu, { key: 0 }))\n          : (_openBlock(), _createBlock(IconEn, { key: 1 }))\n      ])\n    ]),\n    _createElementVNode(\"div\", {\n      class: _normalizeClass([{'opacity-0': _unref(state) === 'stopped'}, \"flex relative flex-col w-full items-center\"])\n    }, [\n      _createElementVNode(\"div\", _hoisted_4, [\n        _createElementVNode(\"video\", {\n          ref_key: \"videoRef\",\n          ref: videoRef,\n          class: \"my-4 hidden z-10 max-h-[400px] min-h-[300px] w-[300px]\",\n          autoPlay: \"\",\n          playsInline: \"\"\n        }, null, 512),\n        _createElementVNode(\"canvas\", {\n          ref_key: \"canvasRef\",\n          ref: canvasRef,\n          width: \"300\",\n          height: \"300\",\n          class: \"z-10 my-4 max-h-[400px] h-[300px] flex w-[300px]\"\n        }, null, 512)\n      ]),\n      (_unref(gtpIsStreaming) || _unref(isGenerating))\n        ? (_openBlock(), _createElementBlock(\"div\", _hoisted_5, _hoisted_9))\n        : _createCommentVNode(\"\", true)\n    ], 2),\n    (_unref(iceConnectionState) === 'connected')\n      ? (_openBlock(), _createElementBlock(\"div\", {\n          key: 0,\n          class: _normalizeClass([{'opacity-0': _unref(state) === 'stopped'}, \"flex space-x-2 mt-4 sm:flex-wrap sm:justify-center\"])\n        }, [\n          _withDirectives((_openBlock(), _createBlock(UIButton, {\n            ref_key: \"recButtonRef\",\n            ref: recButtonRef,\n            class: \"z-[2] active:scale-105\",\n            onMousedown: _unref(startMicrophone),\n            onMouseup: onStopRecording,\n            onTouchstart: _unref(startMicrophone),\n            onTouchend: onStopRecording\n          }, {\n            default: _withCtx(() => [\n              _createElementVNode(\"div\", _hoisted_10, [\n                (_unref(isRecording))\n                  ? (_openBlock(), _createBlock(IconRecording, { key: 0 }))\n                  : (_openBlock(), _createBlock(IconMic, { key: 1 })),\n                (_unref(isRecording))\n                  ? (_openBlock(), _createBlock(UISpinner, { key: 2 }))\n                  : _createCommentVNode(\"\", true)\n              ])\n            ]),\n            _: 1\n          }, 8, [\"onMousedown\", \"onTouchstart\"])), [\n            [_directive_touch, onStopRecording, \"longtap\"]\n          ])\n        ], 2))\n      : _createCommentVNode(\"\", true),\n    _createElementVNode(\"div\", {\n      class: _normalizeClass([{'opacity-0': _unref(state) === 'stopped'}, \"w-full justify-center\"])\n    }, [\n      (_unref(userText))\n        ? _withDirectives((_openBlock(), _createElementBlock(\"div\", _hoisted_11, [\n            _hoisted_12,\n            _createTextVNode(\" \" + _toDisplayString(_unref(userText)), 1)\n          ])), [\n            [_directive_motion]\n          ])\n        : _createCommentVNode(\"\", true),\n      (_unref(avatarText))\n        ? _withDirectives((_openBlock(), _createElementBlock(\"div\", _hoisted_13, [\n            _hoisted_14,\n            _createTextVNode(\" \" + _toDisplayString(_unref(avatarText)), 1)\n          ])), [\n            [_directive_motion]\n          ])\n        : _createCommentVNode(\"\", true)\n    ], 2),\n    false\n      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_15, [\n          _createElementVNode(\"div\", _hoisted_16, [\n            _hoisted_17,\n            _createElementVNode(\"p\", null, \"currentWord: \" + _toDisplayString(_unref(currentWord)), 1),\n            _createElementVNode(\"p\", null, \"currentMessage: \" + _toDisplayString(_unref(currentMessage)), 1),\n            _createElementVNode(\"p\", null, \"messages: \" + _toDisplayString(_unref(messages)), 1),\n            _createElementVNode(\"p\", null, \"gtpIsStreaming: \" + _toDisplayString(_unref(gtpIsStreaming)), 1)\n          ]),\n          _createElementVNode(\"div\", _hoisted_18, [\n            _hoisted_19,\n            _createElementVNode(\"p\", null, \"isLoading: \" + _toDisplayString(_unref(isLoading)), 1),\n            _createElementVNode(\"p\", null, \"isGenerating: \" + _toDisplayString(_unref(isGenerating)), 1),\n            _createElementVNode(\"p\", null, \"iceConnectionState: \" + _toDisplayString(_unref(iceConnectionState)), 1),\n            _createElementVNode(\"p\", null, \"isError: \" + _toDisplayString(_unref(isError)), 1),\n            _createElementVNode(\"p\", null, \"errorMessage: \" + _toDisplayString(_unref(errorMessage)), 1)\n          ]),\n          _createElementVNode(\"div\", _hoisted_20, [\n            _hoisted_21,\n            _createElementVNode(\"p\", null, \"isRecording: \" + _toDisplayString(_unref(isRecording)), 1),\n            _createElementVNode(\"p\", null, \"microphone: \" + _toDisplayString(_unref(microphone) && _unref(microphone).state), 1),\n            _createElementVNode(\"p\", null, \"microphoneIsOpen: \" + _toDisplayString(_unref(microphoneIsOpen)), 1),\n            _createElementVNode(\"p\", null, \"queue: \" + _toDisplayString(_unref(queue)), 1),\n            _createElementVNode(\"p\", null, \"queueSize: \" + _toDisplayString(_unref(queueSize)), 1)\n          ]),\n          _createElementVNode(\"div\", _hoisted_22, [\n            _hoisted_23,\n            _createElementVNode(\"p\", null, \"transcript: \" + _toDisplayString(_unref(transcript)), 1),\n            _createElementVNode(\"p\", null, \"isProcessing: \" + _toDisplayString(_unref(isProcessing)), 1),\n            _createElementVNode(\"p\", null, \"connection:. \" + _toDisplayString(_unref(connection) !== undefined), 1),\n            _createElementVNode(\"p\", null, \"isConnecting: \" + _toDisplayString(_unref(isConnecting)), 1),\n            _createElementVNode(\"p\", null, \"connectionIsReady: \" + _toDisplayString(_unref(connectionIsReady)), 1)\n          ])\n        ]))\n      : _createCommentVNode(\"\", true)\n  ]))\n}\n}\n\n})","<script setup lang=\"ts\">\nimport { onBeforeUnmount, onMounted, ref, watch } from \"vue\";\nimport UIButton from \"@/ui/ui-button.vue\";\nimport IconEn from '@/components/icon-en.vue'\nimport IconRu from '@/components/icon-ru.vue'\nimport IconMic from '@/components/icon-mic.vue'\nimport IconRecording from '@/components/icon-recording.vue'\nimport UISpinner from \"@/ui/ui-spinner.vue\";\nimport { useAvatar } from \"@/composables/useAvatar\";\nimport useMicroPhone from \"@/composables/useMicrophone\";\nimport useDeepgram from \"@/composables/useDeepgram\";\nimport useOpenAI from \"@/composables/useOpenAI\";\nimport { useRouter } from \"vue-router\";\nimport useSystem from \"@/composables/useSystem\";\nimport { onClickOutside } from '@vueuse/core'\n\nconst router = useRouter()\nconst ll = ''\nlet isProcessing = ref(false);\nlet userText = ref(ll);\nlet textToSend = ref<string[]>([])\nlet prevText = ref(ll);\nlet avatarText = ref(ll);\nlet lang = localStorage.getItem('lang') as 'en' | 'ru' | undefined\nconst {showLoading, hideLoading} = useSystem()\nconst {\n  sendMessage,\n  messages,\n  currentMessage,\n  gtpIsStreaming,\n  currentWord,\n} = useOpenAI();\nconst { connection, isConnecting, transcript, connectionIsReady } =\n  useDeepgram(lang || \"en\");\nconst {\n  isRecording,\n  microphoneIsOpen,\n  queue,\n  microphone,\n  firstBlob,\n  removeBlob,\n  queueSize,\n  startMicrophone,\n  stopMicrophone,\n} = useMicroPhone();\nconst videoRef = ref<HTMLVideoElement>();\nconst canvasRef = ref<HTMLCanvasElement>();\nconst recButtonRef = ref<HTMLButtonElement>()\nonClickOutside(recButtonRef, () => {\n  if (isRecording.value) {\n    onStopRecording()\n  }\n})\nconst {\n  isLoading,\n  isGenerating,\n  iceConnectionState,\n  closeConnection,\n  state,\n  isError,\n  errorMessage,\n  generateVoice,\n  start,\n} = useAvatar(videoRef, canvasRef, lang);\nlet text = ref(\" ,  ?\");\nconst enWaitingWords = [\n  \"Give me a second to gather my thoughts.\",\n  \"Hold on while I think this through.\",\n  \"Just a moment, Im pondering.\",\n  \"Let me mull this over.\",\n  \"I need a quick minute to reflect.\",\n  \"Allow me some time to consider.\",\n  \"Bear with me as I contemplate.\",\n  \"I just need a brief moment to deliberate.\",\n  \"Hang tight, Im processing.\",\n  \"Can you give me a short pause to think?\"\n];\nconst ruWaitingWords = [',   ', '  .' ,' ... !' , ',  ', ' ...', '  ... ']\n\nwatch(currentMessage, (v) => {\n  if (v) avatarText.value = v\n})\nonMounted(async () => {\n  showLoading()\n  await start()\n  hideLoading()\n})\nonBeforeUnmount(() => {\n  closeConnection()\n})\n\nwatch([currentMessage, gtpIsStreaming], ([value]) => {\n  \n  if (value && !gtpIsStreaming.value) {\n    console.log(value)\n    if (value.length > 2000) {\n      const fn = async () => {  \n        const arr = value.split(' ')\n        const halfIndex = Math.ceil(arr.length / 2);\n\n        //\n        let firstHalf = arr.slice(0, halfIndex)\n        const firstHalfIndex = Math.ceil(firstHalf.length / 2)\n        let firstHalfFirst = firstHalf.slice(0, firstHalfIndex).join(' ')\n        let firstHalfSecond = firstHalf.slice(firstHalfIndex).join('')\n        ///\n        console.log('sending firsthalffirst: ' + firstHalf)\n        await generateVoice(firstHalfFirst)\n        await new Promise((res) => {\n          setTimeout(() => {\n            generateVoice(firstHalfSecond).then(() => {\n              res(0)\n            })\n          }, 2000)\n        })\n        \n        //\n        let secondHalf = arr.slice(halfIndex);\n        const secondHalfHalfIndex = Math.ceil(secondHalf.length / 2)\n        let secondHalfFirst = secondHalf.slice(0, secondHalfHalfIndex).join(' ')\n        let secondHalfSecond = secondHalf.slice(secondHalfHalfIndex).join(' ')\n        //\n        await new Promise((res) => {\n          setTimeout(() => {\n            generateVoice(secondHalfFirst).then(() => {\n              res(0)\n            })\n          }, 2000)\n        })\n        await new Promise((res) => {\n          setTimeout(() => {\n            generateVoice(secondHalfSecond).then(() => {\n              res(0)\n            })\n          }, 2000)\n        })\n      }\n      fn()\n    }\n    if (value.length > 200 && value.length < 2000) {\n      console.log (`${value} is longer than 100`)\n      console.log ('split it to 2')\n      const fn = async () => {  \n        const arr = value.split(' ')\n        const halfIndex = Math.ceil(arr.length / 2);\n        let firstHalf = arr.slice(0, halfIndex).join(' ');\n        console.log('sending first: ' + firstHalf)\n        await generateVoice(firstHalf)\n        let secondHalf = arr.slice(halfIndex).join(' ');\n        setTimeout(() => {\n          console.log('sending second:' + secondHalf)\n          generateVoice(secondHalf)\n        }, 2000)\n      }\n      \n      fn()\n    } else if (value.length < 200){\n      console.log('sending:', value)\n      generateVoice(value);\n    }\n    avatarText.value = value;\n    currentMessage.value = \"\";\n  }\n});\n\n\nconst processQueue = () => {\n  if (queueSize.value > 0 && !isProcessing.value) {\n    isProcessing.value = true;\n\n    if (connectionIsReady.value) {\n      const nextBlob = firstBlob.value;\n\n      if (nextBlob && nextBlob.size > 0) {\n        connection.value.send(nextBlob);\n      }\n      removeBlob();\n    }\n    // timeout?\n    isProcessing.value = false;\n  }\n};\n\nwatch(queueSize, () => {\n  processQueue();\n});\n\nwatch(transcript, (val) => {\n  // call openAI\n  userText.value = val.text;\n  if (val.isFinal && !gtpIsStreaming.value) {\n    prevText.value = val.text;\n    textToSend.value.push(val.text)\n    // sendMessage(val.text);\n  }\n});\n\n\nconst onStopRecording = () => {\n  console.log('run')\n  setTimeout(() => {\n    stopMicrophone();\n    if (textToSend.value.length) {\n      const finalText =textToSend.value.join(' ')\n      setTimeout(() => {\n        userText.value = finalText\n      }, 400)\n      console.log(finalText)\n      sendMessage(finalText)\n      textToSend.value = []\n    } else if (!transcript.value.isFinal && transcript.value.text) {\n      sendMessage(transcript.value.text)\n      console.log('this case')\n    }\n    if (lang === 'en') {\n      const random = enWaitingWords[Math.floor(Math.random() * enWaitingWords.length)]\n      generateVoice(random)\n    } else {\n      const random = ruWaitingWords[Math.floor(Math.random() * ruWaitingWords.length)]\n      generateVoice(random)\n    }\n  }, 1000)\n};\nconst test = (e) => {\n  console.log(e)\n}\n</script>\n<template>\n  <div class=\"home min-h-[100vh] flex flex-col pt-[20vh] items-center bg-blue-900 py-4 px-4\">\n    <div\n        class=\"absolute inset-x-0 m-auto h-80 max-w-lg bg-gradient-to-tr from-indigo-400 via-teal-900 to-[#C084FC] blur-[118px]\"\n      ></div>\n    <div class=\"absolute top-4 flex w-full z-[2] flex-col items-center space-y-2\">\n      <div @click=\"router.push('/')\" class=\"absolute right-4 top-2\">\n        <IconRu v-if=\"lang === 'ru'\"></IconRu>\n        <IconEn v-else></IconEn>\n      </div>\n    </div>\n    <div :class=\"{'opacity-0': state === 'stopped'}\" class=\"flex  relative flex-col w-full items-center\">\n      \n      <div class=\"flex items-start sm:flex-wrap sm:justify-center\">\n        <video\n          ref=\"videoRef\"\n          class=\"my-4 hidden z-10 max-h-[400px] min-h-[300px] w-[300px]\"\n          autoPlay\n          playsInline\n        ></video>\n        <canvas\n          ref=\"canvasRef\"\n          width=\"300\"\n          height=\"300\"\n          class=\"z-10 my-4 max-h-[400px] h-[300px] flex w-[300px]\"\n        ></canvas>\n      </div>\n      <div\n        v-if=\"gtpIsStreaming || isGenerating\"\n        class=\"my-4 flex space-x-2 justify-center items-center\"\n      >\n        <div\n          class=\"h-2 w-2 bg-white rounded-full animate-bounce [animation-delay:-0.3s]\"\n        ></div>\n        <div\n          class=\"h-2 w-2 bg-white rounded-full animate-bounce [animation-delay:-0.15s]\"\n        ></div>\n        <div class=\"h-2 w-2 bg-white rounded-full animate-bounce\"></div>\n      </div>\n    </div>\n    <div v-if=\"iceConnectionState === 'connected'\" :class=\"{'opacity-0': state === 'stopped'}\" class=\"flex space-x-2 mt-4 sm:flex-wrap sm:justify-center\">\n      <UIButton\n        ref=\"recButtonRef\"\n        class=\"z-[2] active:scale-105\"\n        @mousedown=\"startMicrophone\"\n        @mouseup=\"onStopRecording\"\n        @touchstart=\"startMicrophone\"\n        v-touch:longtap=\"onStopRecording\"\n        @touchend=\"onStopRecording\"\n        >\n        <div class=\"flex items-center space-x-2\">\n          <IconRecording v-if=\"isRecording\"/>\n          <IconMic v-else/>\n          <UISpinner  v-if=\"isRecording\"/>\n        </div>\n      </UIButton>\n    </div>\n    <div :class=\"{'opacity-0': state === 'stopped'}\" class=\"w-full justify-center\">\n      <div v-if=\"userText\" v-motion :initial=\"{opacity: 0}\" :enter=\"{opacity: 1}\" :delay=\"20\" class=\"text-white mx-auto sm:text-[14px] w-[50%] sm:w-full z-[2]\">\n        <span class=\"font-bold text-red-300\">user:</span> {{ userText }}\n      </div>\n      <div v-if=\"avatarText\" v-motion :initial=\"{opacity: 0}\" :enter=\"{opacity: 1}\" :delay=\"20\" class=\"text-white mx-auto mt-2 sm:text-[14px] w-[50%] sm:w-full z-[2] text-left\">\n        <span class=\"font-bold text-purple-300\">avatar:</span>\n        {{ avatarText }}\n      </div>\n    </div>\n    <div v-if=\"false\" class=\"flex flex-wrap justify-center\">\n      <div class=\"bg-slate-200 font-mono p-4 w-[400px] min-h-[200px] mt-4\">\n        <h1 class=\"font-bold text-[20px]\">OpenAI</h1>\n        <p>currentWord: {{ currentWord }}</p>\n        <p>currentMessage: {{ currentMessage }}</p>\n        <p>messages: {{ messages }}</p>\n        <p>gtpIsStreaming: {{ gtpIsStreaming }}</p>\n      </div>\n      <div class=\"bg-slate-200 font-mono p-4 w-[400px] min-h-[200px] mt-4\">\n        <h1 class=\"font-bold text-[20px]\">HeyGen RTC connection</h1>\n        <p>isLoading: {{ isLoading }}</p>\n        <p>isGenerating: {{ isGenerating }}</p>\n        <p>iceConnectionState: {{ iceConnectionState }}</p>\n        <p>isError: {{ isError }}</p>\n        <p>errorMessage: {{ errorMessage }}</p>\n      </div>\n      <div class=\"bg-slate-200 font-mono p-4 w-[400px] min-h-[200px] mt-4\">\n        <h1 class=\"font-bold text-[20px]\">Microphone Info</h1>\n        <p>isRecording: {{ isRecording }}</p>\n        <p>microphone: {{ microphone && microphone.state }}</p>\n        <p>microphoneIsOpen: {{ microphoneIsOpen }}</p>\n        <p>queue: {{ queue }}</p>\n        <p>queueSize: {{ queueSize }}</p>\n      </div>\n      <div class=\"bg-slate-200 font-mono p-4 w-[400px] min-h-[200px] mt-4\">\n        <h1 class=\"font-bold text-[20px]\">Deepgram API</h1>\n        <p>transcript: {{ transcript }}</p>\n        <p>isProcessing: {{ isProcessing }}</p>\n        <p>connection:. {{ connection !== undefined }}</p>\n        <p>isConnecting: {{ isConnecting }}</p>\n        <p>connectionIsReady: {{ connectionIsReady }}</p>\n      </div>\n    </div>\n  </div>\n</template>\n","import script from \"./AvatarView.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./AvatarView.vue?vue&type=script&setup=true&lang=ts\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { createRouter, createWebHistory, RouteRecordRaw } from 'vue-router';\nimport HomeView from '../views/HomeView.vue';\nimport AvatarView from '../views/AvatarView.vue';\n\nconst routes: Array<RouteRecordRaw> = [\n  {\n    path: '/',\n    name: 'home',\n    component: HomeView,\n  },\n  {\n    path: '/avatar',\n    name: 'avatar',\n    component: AvatarView,\n  },\n  {\n    path: '/about',\n    name: 'about',\n    // route level code-splitting\n    // this generates a separate chunk (about.[hash].js) for this route\n    // which is lazy-loaded when the route is visited.\n    component: () => import(/* webpackChunkName: \"about\" */ '../views/AboutView.vue'),\n  },\n];\n\nconst router = createRouter({\n  history: createWebHistory(process.env.BASE_URL),\n  routes,\n});\n\nexport default router;\n","import { defineComponent as _defineComponent } from 'vue'\nimport { resolveComponent as _resolveComponent, createVNode as _createVNode, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nimport GlobalLoader from '@/components/global-loader.vue'\nimport ErrorToast from './components/error-toast.vue';\nimport { onBeforeMount } from 'vue';\nimport router from './router';\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'App',\n  setup(__props) {\n\nonBeforeMount(() => {\n  router.push('/')\n})\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_router_view = _resolveComponent(\"router-view\")!\n\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    _createVNode(_component_router_view),\n    _createVNode(GlobalLoader),\n    _createVNode(ErrorToast)\n  ], 64))\n}\n}\n\n})","<script setup lang=\"ts\">\nimport GlobalLoader from '@/components/global-loader.vue'\nimport ErrorToast from './components/error-toast.vue';\nimport { onBeforeMount } from 'vue';\nimport router from './router';\nonBeforeMount(() => {\n  router.push('/')\n})\n</script>\n<template>\n  <router-view />\n  <GlobalLoader />\n  <ErrorToast />\n</template>\n","import script from \"./App.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./App.vue?vue&type=script&setup=true&lang=ts\"\n\nconst __exports__ = script;\n\nexport default __exports__","import './index.css';\nimport {MotionPlugin} from '@vueuse/motion'\nimport { createApp } from 'vue';\nimport App from './App.vue';\nimport router from './router';\nimport Vue3TouchEvents from \"vue3-touch-events\";\nimport type { Vue3TouchEventsOptions} from \"vue3-touch-events\";\nconst app = createApp(App)\napp.use(router)\napp.use(MotionPlugin)\napp.use<Vue3TouchEventsOptions>(Vue3TouchEvents, {\n  disableClick: true,\n  longTapTimeInterval: 500000\n})\n\napp.mount('#app');\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = function(chunkId) {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce(function(promises, key) {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = function(chunkId) {\n\t// return url for filenames based on template\n\treturn \"js/\" + \"about\" + \".\" + \"fb7f15c5\" + \".js\";\n};","// This function allow to reference async chunks\n__webpack_require__.miniCssF = function(chunkId) {\n\t// return url for filenames based on template\n\treturn undefined;\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","var inProgress = {};\nvar dataWebpackPrefix = \"vue-avatar:\";\n// loadScript function to load a script via script tag\n__webpack_require__.l = function(url, done, key, chunkId) {\n\tif(inProgress[url]) { inProgress[url].push(done); return; }\n\tvar script, needAttach;\n\tif(key !== undefined) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tfor(var i = 0; i < scripts.length; i++) {\n\t\t\tvar s = scripts[i];\n\t\t\tif(s.getAttribute(\"src\") == url || s.getAttribute(\"data-webpack\") == dataWebpackPrefix + key) { script = s; break; }\n\t\t}\n\t}\n\tif(!script) {\n\t\tneedAttach = true;\n\t\tscript = document.createElement('script');\n\n\t\tscript.charset = 'utf-8';\n\t\tscript.timeout = 120;\n\t\tif (__webpack_require__.nc) {\n\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n\t\t}\n\t\tscript.setAttribute(\"data-webpack\", dataWebpackPrefix + key);\n\n\t\tscript.src = url;\n\t}\n\tinProgress[url] = [done];\n\tvar onScriptComplete = function(prev, event) {\n\t\t// avoid mem leaks in IE.\n\t\tscript.onerror = script.onload = null;\n\t\tclearTimeout(timeout);\n\t\tvar doneFns = inProgress[url];\n\t\tdelete inProgress[url];\n\t\tscript.parentNode && script.parentNode.removeChild(script);\n\t\tdoneFns && doneFns.forEach(function(fn) { return fn(event); });\n\t\tif(prev) return prev(event);\n\t}\n\tvar timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);\n\tscript.onerror = onScriptComplete.bind(null, script.onerror);\n\tscript.onload = onScriptComplete.bind(null, script.onload);\n\tneedAttach && document.head.appendChild(script);\n};","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.p = \"/avatar-vue/\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t524: 0\n};\n\n__webpack_require__.f.j = function(chunkId, promises) {\n\t\t// JSONP chunk loading for javascript\n\t\tvar installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;\n\t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n\t\t\t// a Promise means \"currently loading\".\n\t\t\tif(installedChunkData) {\n\t\t\t\tpromises.push(installedChunkData[2]);\n\t\t\t} else {\n\t\t\t\tif(true) { // all chunks have JS\n\t\t\t\t\t// setup Promise in chunk cache\n\t\t\t\t\tvar promise = new Promise(function(resolve, reject) { installedChunkData = installedChunks[chunkId] = [resolve, reject]; });\n\t\t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n\t\t\t\t\t// start chunk loading\n\t\t\t\t\tvar url = __webpack_require__.p + __webpack_require__.u(chunkId);\n\t\t\t\t\t// create error before stack unwound to get useful stacktrace later\n\t\t\t\t\tvar error = new Error();\n\t\t\t\t\tvar loadingEnded = function(event) {\n\t\t\t\t\t\tif(__webpack_require__.o(installedChunks, chunkId)) {\n\t\t\t\t\t\t\tinstalledChunkData = installedChunks[chunkId];\n\t\t\t\t\t\t\tif(installedChunkData !== 0) installedChunks[chunkId] = undefined;\n\t\t\t\t\t\t\tif(installedChunkData) {\n\t\t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n\t\t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n\t\t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n\t\t\t\t\t\t\t\terror.type = errorType;\n\t\t\t\t\t\t\t\terror.request = realSrc;\n\t\t\t\t\t\t\t\tinstalledChunkData[1](error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t__webpack_require__.l(url, loadingEnded, \"chunk-\" + chunkId, chunkId);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n};\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkvue_avatar\"] = self[\"webpackChunkvue_avatar\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [504], function() { return __webpack_require__(6253); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["role","_createElementVNode","class","viewBox","fill","xmlns","d","_hoisted_2","_hoisted_3","_createElementBlock","_hoisted_1","_hoisted_4","script","__exports__","render","errorToast","ref","toastIsShown","showToast","msg","value","message","setTimeout","isLoading","useSystem","showLoading","hideLoading","key","_defineComponent","__name","setup","__props","_ctx","_cache","_unref","_openBlock","_createVNode","UISpinner","_createCommentVNode","initial","y","enter","delay","id","_hoisted_5","_hoisted_6","stroke","_hoisted_7","r","useRouter","onRetry","async","push","_directive_motion","_resolveDirective","_withDirectives","_toDisplayString","onClick","$event","type","_createStaticVNode","onSelect","lang","localStorage","setItem","onContextmenu","_withModifiers","_renderSlot","$slots","width","height","x","rx","SERVER_URL","process","apiKey","shouldRenderCanvas","isError","state","errorMessage","mediaCanPlay","isGenerating","sessionInfo","peerConnection","iceConnectionState","useAvatar","incomingVideoRef","incomingCanvasRef","start","checkSessionsAndCloseIfExists","Promise","res","rej","createNewSession","startAndDisplaySession","renderCanvas","closeConnection","closeConnectionHandler","generateVoice","repeat","session_id","text","videoRef","canvasRef","avatarID","voiceID","newSession","sdp","serverSdp","ice_servers2","iceServers","RTCPeerConnection","ontrack","event","console","log","track","kind","srcObject","streams","paused","play","then","_","catch","ondatachannel","dataChannel","channel","onmessage","remoteDescription","RTCSessionDescription","setRemoteDescription","localDescription","createAnswer","setLocalDescription","onicecandidate","candidate","handleICE","toJSON","oniceconnectionstatechange","startSession","quality","avatar_name","voice_id","response","fetch","method","headers","body","JSON","stringify","voice","status","Error","data","json","err","error","renderID","close","resp","stopSession","getSessionsList","sessionsData","sessions","length","forEach","s","options","accept","curRenderID","Math","trunc","random","ctx","getContext","willReadFrequently","process_frame","videoHeight","videoWidth","drawImage","getContextAttributes","imageData","getImageData","i","red","green","blue","isCloseToGreen","putImageData","requestAnimationFrame","color","useQueue","initialValue","queue","add","el","remove","first","q","clear","computed","last","size","microphone","microphoneIsOpen","enqueueBlob","removeBlob","firstBlob","queueSize","isRecording","useMicrophone","eventer","document","visibilityState","stopMicrophone","onMounted","window","addEventListener","onBeforeUnmount","removeEventListener","ondataavailable","watch","val","e","setupMicrophone","startMicrophone","userMedia","navigator","mediaDevices","getUserMedia","audio","noiseSuppression","echoCancellation","MediaRecorder","waiting","clearTimeout","pause","resume","getApiKey","connection","isConnecting","connectionIsReady","transcript","isFinal","connect","LiveClient","language","model","interim_results","smart_format","endpointing","utterance_end_ms","filler_words","keepAlive","interval","setInterval","getReadyState","LiveConnectionState","OPEN","clearInterval","setupListeners","undefined","addListener","LiveTranscriptionEvents","Open","Close","Metadata","Transcript","alternatives","is_final","removeAllListeners","useDeepgram","textArray","messages","gtpIsStreaming","currentMessage","currentWord","useOpenAI","textArr","arrSize","sendMessage","sendCompetions","url","content","response_message","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","opacity","_hoisted_12","_hoisted_13","_hoisted_14","ll","router","isProcessing","userText","textToSend","prevText","avatarText","getItem","useMicroPhone","recButtonRef","onClickOutside","onStopRecording","enWaitingWords","ruWaitingWords","v","fn","arr","split","halfIndex","ceil","firstHalf","slice","firstHalfIndex","firstHalfFirst","join","firstHalfSecond","secondHalf","secondHalfHalfIndex","secondHalfFirst","secondHalfSecond","processQueue","nextBlob","send","finalText","floor","_directive_touch","_createBlock","IconRu","IconEn","_normalizeClass","ref_key","autoPlay","playsInline","UIButton","onMousedown","onMouseup","onTouchstart","onTouchend","default","_withCtx","IconRecording","IconMic","_createTextVNode","routes","path","name","component","HomeView","AvatarView","createRouter","history","createWebHistory","onBeforeMount","_component_router_view","_resolveComponent","_Fragment","GlobalLoader","ErrorToast","app","createApp","App","use","MotionPlugin","Vue3TouchEvents","disableClick","longTapTimeInterval","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","call","m","deferred","O","result","chunkIds","priority","notFulfilled","Infinity","fulfilled","j","Object","keys","every","splice","n","getter","__esModule","a","definition","o","defineProperty","enumerable","get","f","chunkId","all","reduce","promises","u","miniCssF","g","globalThis","this","Function","obj","prop","prototype","hasOwnProperty","inProgress","dataWebpackPrefix","l","done","needAttach","scripts","getElementsByTagName","getAttribute","createElement","charset","timeout","nc","setAttribute","src","onScriptComplete","prev","onerror","onload","doneFns","parentNode","removeChild","bind","target","head","appendChild","Symbol","toStringTag","p","installedChunks","installedChunkData","promise","resolve","reject","loadingEnded","errorType","realSrc","request","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","self","__webpack_exports__"],"sourceRoot":""}